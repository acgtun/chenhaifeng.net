<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>计算几何模板</title>
<link rel="shortcut icon" href="..\..\images\hfchen.ico"/>
<style>
<!--
 p.MsoNormal
	{mso-style-parent:"";
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Times New Roman","serif";
	margin-left:0cm; margin-right:0cm; margin-top:0cm}
p.MsoFooter
	{margin-bottom:.0001pt;
	tab-stops:center 207.65pt right 415.3pt;
	layout-grid-mode:char;
	font-size:9.0pt;
	font-family:"Times New Roman","serif";
	margin-left:0cm; margin-right:0cm; margin-top:0cm}
-->
</style>
</head>

<body bgcolor=#C5C1AA>
<h1>Source Code of Computational Geometry Algorithm</h1> 
<p>All the source code are written by <a href="http://chenhaifeng.net/"><em>Haifeng Chen</em></a>. Everyone can use it free and do not care the copyright. If any problem, please contact chenhaifeng88888@gmail.com.</p>
<hr>
<p class="MsoNormal"><span lang="EN-US" style="font-size: 12.0pt">&nbsp;</span></p>
<div style="mso-element: para-border-div; mso-border-bottom-alt: solid windowtext .75pt; border-left: medium none; border-right: medium none; border-top: medium none; border-bottom: 1.0pt solid windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 0cm; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="center" style="text-align: center; border: medium none; padding: 0cm">
	<span style="font-size: 24.0pt; font-family: 楷体_GB2312">计算几何模板</span></p>
	<p class="MsoNormal" align="center" style="text-align: center; border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt; font-family: 华文新魏">&nbsp;</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(1)</span><span style="font-size: 12.0pt; font-family: 宋体">凸包</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(2)</span><span style="font-size: 12.0pt; font-family: 宋体">判断两条线段是否相交</span><span lang="EN-US" style="font-size: 12.0pt">(</span><span style="font-size: 12.0pt; font-family: 宋体">平行，不平行</span><span lang="EN-US" style="font-size: 12.0pt">)</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(3)</span><span style="font-size: 12.0pt; font-family: 宋体">三角形的外接圆</span><span lang="EN-US" style="font-size: 12.0pt">(</span><span style="font-size: 12.0pt; font-family: 宋体">已知不在同一直线上的三点求经过三点的圆</span><span lang="EN-US" style="font-size: 12.0pt">)</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(4)</span><span style="font-size: 12.0pt; font-family: 宋体">三角形的垂心内心重心中垂线</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(5)</span><span style="font-size: 12.0pt; font-family: 宋体">求直线的交点</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(6)</span><span style="font-size: 12.0pt; font-family: 宋体">根据线段两端点的坐标求垂直平分线上除中点外的另一点</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(7)</span><span style="font-size: 12.0pt; font-family: 宋体">根据两点坐标求直线方程</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(8)</span><span style="font-size: 12.0pt; font-family: 宋体">差积的应用</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(9)</span><span style="font-size: 12.0pt; font-family: 宋体">三角形的面积公式</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(10)</span><span style="font-size: 12.0pt; font-family: 宋体">三角形的内接圆</span><span lang="EN-US" style="font-size: 12.0pt">(</span><span style="font-size: 12.0pt; font-family: 宋体">未检验正确性</span><span lang="EN-US" style="font-size: 12.0pt">)</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(11)</span><span style="font-size: 12.0pt; font-family: 宋体">多边形的面积</span><span lang="EN-US" style="font-size: 12.0pt">(</span><span style="font-size: 12.0pt; font-family: 宋体">适合凹多边形</span><span lang="EN-US" style="font-size: 12.0pt">)</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(12)</span><span style="font-size: 12.0pt; font-family: 宋体">判断点是否在线段上</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(13)</span><span style="font-size: 12.0pt; font-family: 宋体">平面上两个点之间的距离</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(14)p</span><span style="font-size: 12.0pt; font-family: 宋体">点关于直线</span><span lang="EN-US" style="font-size: 12.0pt">L</span><span style="font-size: 12.0pt; font-family: 宋体">的对称点</span><span lang="EN-US" style="font-size: 12.0pt">
	</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(15)</span><span style="font-size: 12.0pt; font-family: 宋体">判断一个矩形是否在另一个矩形中</span><span lang="EN-US" style="font-size: 12.0pt">
	</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(16)</span><span style="font-size: 12.0pt; font-family: 宋体">直线和圆的交点</span><span lang="EN-US" style="font-size: 12.0pt">+</span><span style="font-size: 12.0pt; font-family: 宋体">点关于线的对称点</span><span lang="EN-US" style="font-size: 12.0pt">+</span><span style="font-size: 12.0pt; font-family: 宋体">点到线的距离</span><span lang="EN-US" style="font-size: 12.0pt">+</span><span style="font-size: 12.0pt; font-family: 宋体">直线方程</span><span lang="EN-US" style="font-size: 12.0pt">(fzu_1035)</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(17)</span><span style="font-size: 12.0pt; font-family: 宋体">判断点是否在多边形内</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(18)N</span><span style="font-size: 12.0pt; font-family: 宋体">点中三个点组成三角形面积最大</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(19)</span><span style="font-size: 12.0pt; font-family: 宋体">扇形的重心</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(20)</span><span style="font-size: 12.0pt; font-family: 宋体">多边形的重心</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(21)</span><span style="font-size: 12.0pt; font-family: 宋体">判断</span><span lang="EN-US" style="font-size: 12.0pt">N</span><span style="font-size: 12.0pt; font-family: 宋体">点是否共面</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(22)</span><span style="font-size: 12.0pt; font-family: 宋体">求共线的点最多为多少</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(23)N</span><span style="font-size: 12.0pt; font-family: 宋体">个矩形的相交的面积</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(24)</span><span style="font-size: 12.0pt; font-family: 宋体">三角形外接圆</span><span lang="EN-US" style="font-size: 12.0pt">+</span><span style="font-size: 12.0pt; font-family: 宋体">圆的参数方程</span><span lang="EN-US" style="font-size: 12.0pt">(pku_1266)</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(25)</span><span style="font-size: 12.0pt; font-family: 宋体">判断线段是否有交点并求交点</span><span lang="EN-US" style="font-size: 12.0pt">(cug_1078)</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(26)</span><span style="font-size: 12.0pt; font-family: 宋体">简单多边形的核</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(27)</span><span style="font-size: 12.0pt; font-family: 宋体">线段重叠</span><span lang="EN-US" style="font-size: 12.0pt">+</span><span style="font-size: 12.0pt; font-family: 宋体">投影</span><span lang="EN-US" style="font-size: 12.0pt">(pku_1375)</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(28)</span><span style="font-size: 12.0pt; font-family: 宋体">二分</span><span lang="EN-US" style="font-size: 12.0pt">+</span><span style="font-size: 12.0pt; font-family: 宋体">圆的参数方程</span><span lang="EN-US" style="font-size: 12.0pt">(pku_2600)</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(29)Pick</span><span style="font-size: 12.0pt; font-family: 宋体">公式</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(30)</span><span style="font-size: 12.0pt; font-family: 宋体">根据经度纬度求球面距离</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(31)</span><span style="font-size: 12.0pt; font-family: 宋体">两圆切线的交点</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(32)</span><span style="font-size: 12.0pt; font-family: 宋体">线段与三角形的交</span><span lang="EN-US" style="font-size: 12.0pt">(usaco_3.4)</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(33)</span><span style="font-size: 12.0pt; font-family: 宋体">求长方体上到原点距离的点</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">(34)Computational_Geometry</span></p>
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">&nbsp;</span></p></div>
<p class="MsoNormal"><span lang="EN-US" style="font-size: 12.0pt">&nbsp;</span></p>
<div style="mso-element: para-border-div; mso-border-top-alt: solid windowtext .75pt; mso-border-bottom-alt: solid windowtext .75pt; border-left: medium none; border-right: medium none; border-top: 1.0pt solid windowtext; border-bottom: 1.0pt solid windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">&nbsp;</span></div>
<p class="MsoNormal"><span lang="EN-US" style="font-size: 12.0pt">&nbsp;</span></p>
<p class="MsoNormal"><span lang="EN-US" style="font-size: 12.0pt">(1)</span><span style="font-size: 12.0pt; font-family: 宋体">凸包</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">/*</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">凸包<span lang="EN-US">cug_1038*/</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdio.h&gt; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdlib.h&gt; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
struct</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
point </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> x, y; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}pp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">point p[100005];
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
stack[100005], top; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
dis(point a, point b) </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> ((a.x - b.x) * (a.x - b.x) + (a.y - b.y) 
* (a.y - b.y)); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">} </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
multi(point b, point c, point a) </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> (b.x - a.x) * (c.y - a.y) - (b.y - a.y) 
* (c.x - a.x); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">} </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
swap(point p[], <span style="color: blue">int</span> s,
<span style="color: blue">int</span> t) </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; point tmp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp = p[s];
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; p[s] = p[t];
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; p[t] = tmp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">} </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
cmp(<span style="color: blue">const</span> <span style="color: blue">void</span> 
*a, <span style="color: blue">const</span> <span style="color: blue">void</span> 
*b) </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; point *c = 
(point *)a; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; point *d = 
(point *)b; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> k = multi(*c, *d, pp); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(k &lt; 0) <span style="color: blue">return</span> 
1; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">if</span>(k == 0 
&amp;&amp; dis(*c, pp) &gt;= dis(*d, pp)) <span style="color: blue">return</span> 1; </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> 
-1; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">} </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
Graham(point p[], <span style="color: blue">int</span> n,
<span style="color: blue">int</span> stack[], <span style="color: blue">int</span> 
&amp;top) </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> i, u; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; u = 0; </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 1;i &lt; n;i++){&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(p[i].y == p[u].y &amp;&amp; p[i].x &lt; p[u].x) u = i;&nbsp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">if</span>(p[i].y 
&lt; p[u].y) u = i; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; } </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; swap(p, 0, 
u); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; pp = p[0];
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; qsort(p + 1, 
n - 1, <span style="color: blue">sizeof</span>(p[0]), cmp); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; stack[0] = 0;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; stack[1] = 1;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; top = 1;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 2;i &lt; n;i++){ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(multi(p[i], p[stack[top]], p[stack[top - 
1]]) &gt;= 0){ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(top == 0) <span style="color: blue">break</span>;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
top--; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; top++;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
stack[top] = i; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp; </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">} </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
main() </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> ca, i, j, n; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> area; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; scanf(&quot;%d&quot;, 
&amp;ca); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 1;i &lt;= ca;i++){ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%d&quot;, &amp;n); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue">for</span>(j 
= 0;j &lt; n;j++){ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%d%d&quot;, &amp;p[j].x, &amp;p[j].y); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp; </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Graham(p, 
n, stack, top); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; area = 0;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(j = 1;j &lt;= top - 1;j++){ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; area 
+=&nbsp; abs(multi(p[stack[0]], p[stack[j]], p[stack[j + 1]])); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;%.1lf\n&quot;, (<span style="color: blue">double</span>)area / 2); </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; } </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">} </span></p>
<div style="mso-element: para-border-div; mso-border-bottom-alt: solid windowtext .75pt; border-left: medium none; border-right: medium none; border-top: medium none; border-bottom: 1.0pt solid windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 0cm; padding-bottom: 1.0pt">
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">
	---------------------------------------------------------------------------------------------------------------------</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">(2)</span><span style="font-size: 12.0pt; font-family: 新宋体">判断两条线段是否相交<span lang="EN-US">(</span>平行，不平行<span lang="EN-US">)</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
isIntersected(TPoint s1, TPoint e1, TPoint s2, TPoint e2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">判断线段是否相交</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//1.</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">快速排斥试验判断以两条线段为对角线的两个矩形是否相交<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//2.</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">跨立试验</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; (max(s1.x, 
e1.x) &gt;= min(s2.x, e2.x)) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; (max(s2.x, 
e2.x) &gt;= min(s1.x, e1.x)) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; (max(s1.y, 
e1.y) &gt;= min(s2.y, e2.y)) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; (max(s2.y, 
e2.y) &gt;= min(s1.y, e1.y)) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; (multi(s2, 
e1, s1) * multi(e1, e2, s1) &gt;= 0) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; (multi(s1, 
e2, s2) * multi(e2, e1, s2) &gt;= 0)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; )&nbsp;
<span style="color: blue">return</span> <span style="color: blue">true</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> <span style="color: blue">false</span>;&nbsp;&nbsp;&nbsp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; mso-border-top-alt: solid windowtext .75pt; mso-border-bottom-alt: solid windowtext .75pt; border-left: medium none; border-right: medium none; border-top: 1.0pt solid windowtext; border-bottom: 1.0pt solid windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">&nbsp;</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">(3)</span><span style="font-size: 12.0pt; font-family: 新宋体">三角形的外接圆<span lang="EN-US">(</span>已知不在同一直线上的三点求经过三点的圆<span lang="EN-US">)</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">/*</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">三角形的外接圆<span lang="EN-US">pku_1329*/</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdio.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;math.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
const</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">double</span> eps = 1e-6;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TPoint </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TPoint;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TTriangle </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint t[3];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TTriangle;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TCircle</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint 
centre;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> r;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TCircle;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
distance(TPoint p1, TPoint p2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">计算平面上两个点之间的距离</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;
<span style="color: blue">return</span> sqrt((p1.x - p2.x) * (p1.x - p2.x) + 
(p1.y - p2.y) * (p1.y - p2.y));&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
triangleArea(TTriangle t)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">已知三角形三个顶点的坐标，求三角形的面积<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> fabs(t.t[0].x * t.t[1].y + t.t[1].x * 
t.t[2].y + t.t[2].x * t.t[0].y</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - t.t[1].x 
* t.t[0].y - t.t[2].x * t.t[1].y - t.t[0].x * t.t[2].y) / 2;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">TCircle 
circumcircleOfTriangle(TTriangle t)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">三角形的外接圆</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TCircle tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a, b, c, c1, c2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> xA, yA, xB, yB, xC, yC;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; a = 
distance(t.t[0], t.t[1]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; b = 
distance(t.t[1], t.t[2]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; c = 
distance(t.t[2], t.t[0]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">根据<span lang="EN-US">S 
= a * b * c / R / 4;</span>求半径<span lang="EN-US">R </span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.r = a * b 
* c / triangleArea(t) / 4;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; xA = 
t.t[0].x; yA = t.t[0].y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; xB = 
t.t[1].x; yB = t.t[1].y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; xC = 
t.t[2].x; yC = t.t[2].y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; c1 = (xA * xA 
+ yA * yA - xB * xB - yB * yB) / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; c2 = (xA * xA 
+ yA * yA - xC * xC - yC * yC) / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.centre.x 
= -(c1 * (yA - yC) - c2 * (yA - yB)) / </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ((xA - 
xB) * (yA - yC) - (xA - xC) * (yA - yB)); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.centre.y 
= -(c1 * (xA - xC) - c2 * (xA - xB)) / </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ((yA - 
yB) * (xA - xC) - (yA - yC) * (xA - xB)); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> tmp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
main()</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TTriangle t;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TCircle 
circle;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> c, d, e;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(scanf(&quot;%lf%lf%lf%lf%lf%lf&quot;, &amp;t.t[0].x, 
&amp;t.t[0].y, </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
&amp;t.t[1].x, &amp;t.t[1].y, &amp;t.t[2].x, &amp;t.t[2].y) != EOF){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;circle = 
circumcircleOfTriangle(t);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">// printf(&quot;%lf %lf %lf\n&quot;, circle.centre.x, 
circle.centre.y, circle.r);</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;<span style="color: blue">if</span>(fabs(circle.centre.x) 
&lt; eps) printf(&quot;x^2&quot;);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;<span style="color: blue">else</span>
<span style="color: blue">if</span>(circle.centre.x &lt; 0) printf(&quot;(x - %.3lf)^2 + 
&quot;, -circle.centre.x);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;<span style="color: blue">else</span> 
printf(&quot;(x + %.3lf)^2 + &quot;, circle.centre.x);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;<span style="color: blue">if</span>(fabs(circle.centre.y) 
&lt; eps) printf(&quot;y^2 = &quot;);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;<span style="color: blue">else</span>
<span style="color: blue">if</span>(circle.centre.y &lt; 0) printf(&quot;(y - %.3lf)^2 = 
&quot;, -circle.centre.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;<span style="color: blue">else</span> 
printf(&quot;(y + %.3lf)^2 = &quot;, circle.centre.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; 
&nbsp;printf(&quot;%.3lf^2\n&quot;, circle.r);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;c = 2 * 
circle.centre.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;d = 2 * 
circle.centre.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;e = 
circle.centre.x * circle.centre.x + </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; 
circle.centre.y * circle.centre.y - circle.r * circle.r;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;printf(&quot;x^2 
+ y^2 &quot;);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;<span style="color: green">//if(fabs(c) 
&lt; eps) </span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;<span style="color: blue">if</span>(c 
&lt; 0) printf(&quot;- %.3lfx &quot;, -c);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;<span style="color: blue">else</span> 
printf(&quot;+ %.3lfx &quot;, c);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;<span style="color: blue">if</span>(d 
&lt; 0) printf(&quot;- %.3lfy &quot;, -d);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;<span style="color: blue">else</span> 
printf(&quot;+ %.3lfy &quot;, d);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;<span style="color: blue">if</span>(e 
&lt; 0) printf(&quot;- %.3lf = 0\n&quot;, -e);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;<span style="color: blue">else</span> 
printf(&quot;+ %.3lf = 0\n&quot;, e);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; 
&nbsp;printf(&quot;\n&quot;);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; mso-border-bottom-alt: solid windowtext .75pt; border-left: medium none; border-right: medium none; border-top: medium none; border-bottom: 1.0pt solid windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 0cm; padding-bottom: 1.0pt">
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">&nbsp;</span></div>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: medium none; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 0cm; padding-bottom: 1.0pt">
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">&nbsp;</span></div>
<p class="MsoNormal"><span lang="EN-US" style="font-size: 12.0pt">(4)</span><span style="font-size: 12.0pt; font-family: 宋体">三角形的垂心内心重心中垂线</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
/*cug_1011_</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">垂心内心重心中垂线<span lang="EN-US">.cpp*/</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;iostream&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;cmath&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
using</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">namespace</span> std;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
const</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">double</span> eps = 1e-6; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
struct</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
point</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> x, y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">};</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
K()</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">到三边距离和最短<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
L(<span style="color: blue">double</span> a, <span style="color: blue">double</span> 
b, <span style="color: blue">double</span> c, <span style="color: blue">double</span> 
A, <span style="color: blue">double</span> B, <span style="color: blue">double</span> 
C)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">垂线的交点</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> t1, t2, t3;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; t1 = c * 
cos(A) / cos(M_PI / 2 - C);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; t2 = c * 
cos(B) / cos(M_PI / 2 - C);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; t3 = a * 
cos(C) / cos(M_PI / 2 - A);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; t1 += t2 + 
t3;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; 
printf(&quot;%.3lf\n&quot;, t1);&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
struct</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
TLine</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a, b, c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">};</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">TLine 
lineFromSegment(point p1, point p2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">线段所在直线<span lang="EN-US">,</span>返回直线方程的三个系统<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TLine tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.a = p2.y 
- p1.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.b = p1.x 
- p2.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.c = p2.x 
* p1.y - p1.x * p2.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">point 
LineInter(TLine l1, TLine l2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">求两直线得交点坐标</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; point tmp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(l1.b) &lt; eps){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp.x = 
-l1.c / l1.a;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp.y = 
(-l2.c - l2.a * tmp.x) / l2.b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span>{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp.x = 
(l1.c * l2.b - l1.b * l2.c) / (l1.b * l2.a - l2.b * l1.a);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp.y = 
(-l1.c - l1.a * tmp.x) / l1.b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
dis(point a, point b)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> sqrt((a.x - b.x) * (a.x - b.x) + (a.y - 
b.y) * (a.y - b.y));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">} </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
F(<span style="color: blue">double</span> a, <span style="color: blue">double</span> 
b, <span style="color: blue">double</span> c, <span style="color: blue">double</span> 
A, <span style="color: blue">double</span> B, <span style="color: blue">double</span> 
C)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">到三顶点的距离和最短<span lang="EN-US">,
</span>费马点<span lang="EN-US"> </span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">/*</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">当三角形最大的顶角小于<span lang="EN-US">120</span>度的时候，三角形内一点到</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;&nbsp;&nbsp;
</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">
三顶点之间的距离最小是与三顶点夹角都成<span lang="EN-US">120</span>度的点<span lang="EN-US">P</span>当</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;&nbsp;&nbsp;
</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">最到顶点大于等于<span lang="EN-US">120</span>度，该顶点取最小值</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">
补充一下，当三角形的最大角小于<span lang="EN-US">120</span>度时，费尔码点在三</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;&nbsp;&nbsp;
</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">
角形内，作法有多种，可以从任二办向外作等边三角形，联</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;&nbsp;&nbsp;
</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">
接正三角形的顶点和原三角形的对角，两者的联线即所求。</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;&nbsp;&nbsp;
</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">
当三角形的最大角大于等于<span lang="EN-US">120</span>度时，</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;&nbsp;&nbsp;
</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">
费尔码点在三角形的钝角上。<span lang="EN-US">*/</span></span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(A - 2 * M_PI / 3 &gt; -eps){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;%.3lf &quot;, b + c);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> ;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">if</span>(B - 2 
* M_PI / 3 &gt; -eps){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;%.3lf &quot;, a + c);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> ;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">if</span>(C - 2 
* M_PI / 3 &gt; -eps){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;%.3lf &quot;, a + b);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> ;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; point pa, pb, 
pc, pc1, pa1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; pa.x = 0, 
pa.y = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; pb.x = c, 
pb.y = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; pc.x = b * 
cos(A);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; pc.y = b * 
sin(A); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; pc1.x = c * 
cos(-M_PI / 3);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; pc1.y = c * 
sin(-M_PI / 3);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; pa1.x = a * 
cos(2 * M_PI / 3 - B) + c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; pa1.y = a * 
sin(2 * M_PI / 3 - B);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TLine l1, l2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; l1 = 
lineFromSegment(pa, pa1);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; l2 = 
lineFromSegment(pc, pc1);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; point f = 
LineInter(l1, l2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; printf(&quot;%.3lf 
&quot;, dis(pa, f) + dis(pb, f) + dis(pc, f));&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">} </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
I(<span style="color: blue">double</span> a, <span style="color: blue">double</span> 
b, <span style="color: blue">double</span> c, <span style="color: blue">double</span> 
A, <span style="color: blue">double</span> B, <span style="color: blue">double</span> 
C)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">角平分线的交点到三顶点的距离和<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> t, ans;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; t = (a + b - 
c) / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; ans = t / 
cos(C / 2) + (b - t) / cos(A / 2) + (a - t) / cos(B / 2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; printf(&quot;%.3lf 
&quot;, ans);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
G(<span style="color: blue">double</span> a, <span style="color: blue">double</span> 
b, <span style="color: blue">double</span> c, <span style="color: blue">double</span> 
A, <span style="color: blue">double</span> B, <span style="color: blue">double</span> 
C)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">中线的交点<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> t1, t2, t3;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; t1 = sqrt((b 
/ 2) * (b / 2) + a * a - 2 * a * b / 2 * cos(C));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; t2 = sqrt((a 
/ 2) * (a / 2) + c * c - 2 * a * c / 2 * cos(B));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; t3 = sqrt((c 
/ 2) * (c / 2) + b * b - 2 * b * c / 2 * cos(A));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; t1 += t2 + 
t3;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; printf(&quot;%.3lf 
&quot;, t1 * 2 / 3);&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
O(<span style="color: blue">double</span> a, <span style="color: blue">double</span> 
b, <span style="color: blue">double</span> c, <span style="color: blue">double</span> 
A, <span style="color: blue">double</span> B, <span style="color: blue">double</span> 
C)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">垂线的交点</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> t = (A + C - B) / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; 
printf(&quot;%.3lf\n&quot;, 3 * b / 2 / cos(t));&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">} </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
main()</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> i, ca;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a, b, c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> A, B, C;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; cin &gt;&gt; ca;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 1;i &lt;= ca;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cin &gt;&gt; a 
&gt;&gt; b &gt;&gt; c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A = (b * 
b + c * c - a * a) / 2 / b / c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; B = (a * 
a + c * c - b * b) / 2 / a / c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; C = (a * 
a + b * b - c * c) / 2 / a / b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A = 
acos(A), B = acos(B), C = acos(C);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; F(a, b, 
c, A, B, C);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I(a, b, 
c, A, B, C);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; G(a, b, 
c, A, B, C);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; O(a, b, 
c, A, B, C);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
============================================================================================--------------------------------------------------------------------------------------------</span></p>
<p class="MsoNormal"><span lang="EN-US" style="font-size: 12.0pt">(5)</span><span style="font-size: 12.0pt; font-family: 宋体">求直线的交点</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">/*</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">求直线的交点，注意平形的情况无解，避免<span lang="EN-US">RE*/</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">TPoint 
LineInter(TLine l1, TLine l2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">求两直线得交点坐标</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint tmp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a1 = l1.a;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> b1 = l1.b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> c1 = l1.c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a2 = l2.a;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> b2 = l2.b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> c2 = l2.c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">注意这里<span lang="EN-US">b1 
= 0 </span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(b1) &lt; eps){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp.x = 
-c1 / a1;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp.y = 
(-c2 - a2 * tmp.x) / b2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span>{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp.x = 
(c1 * b2 - b1 * c2) / (b1 * a2 - b2 * a1);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp.y = 
(-c1 - a1 * tmp.x) / b1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//cout &lt;&lt; &quot;</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">交点坐标<span lang="EN-US">&quot; 
&lt;&lt; endl; </span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//cout &lt;&lt; a1 * tmp.x + b1 * tmp.y + c1 &lt;&lt; endl;</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//cout &lt;&lt; a2 * tmp.x + b2 * tmp.y + c2 &lt;&lt; endl;</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">&nbsp;</span></div>
<p class="MsoNormal"><span lang="EN-US" style="font-size: 12.0pt">(6)</span><span style="font-size: 12.0pt; font-family: 宋体">根据线段两端点的坐标求垂直平分线上除中点外的另一点</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">TPoint 
GetOtherPoint(TPoint pre, TPoint tmp)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">/*</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">根据线段两端点的坐标求垂直平分线上除中点外的另一点<span lang="EN-US">*/</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> kx, ky;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint other, 
mid;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; mid.x = 
(pre.x + tmp.x) / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; mid.y = 
(pre.y + tmp.y) / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; kx = pre.x - 
tmp.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; ky = pre.y - 
tmp.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(kx) &lt; eps){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; other.y = 
mid.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; other.x = 
1.0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(other.x - mid.x) &lt; eps) other.x = 2.0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">if</span>(fabs(ky) 
&lt; eps){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; other.x = 
mid.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; other.y = 
1.0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(other.y - mid.y) &lt; eps) other.y = 2.0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> k = -kx / ky;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; other.x = 
1.0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(other.x - mid.x) &lt; eps) other.x = 2.0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; other.y = 
mid.y + k * (other.x - mid.x);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> other;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">&nbsp;</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">(7)</span><span style="font-size: 12.0pt; font-family: 新宋体">根据两点坐标求直线方程</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">TLine 
lineFromSegment(TPoint p1, TPoint p2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">线段所在直线<span lang="EN-US">,</span>返回直线方程的三个系统<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TLine tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.a = p2.y 
- p1.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.b = p1.x 
- p2.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.c = p2.x 
* p1.y - p1.x * p2.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">&nbsp;</span></div>
<p class="MsoNormal"><span lang="EN-US" style="font-size: 12.0pt">(8)</span><span style="font-size: 12.0pt; font-family: 宋体">差积的应用</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
multi(TPoint p1, TPoint p2, TPoint p0)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">求矢量<span lang="EN-US">[p0, 
p1], [p0, p2]</span>的叉积</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//p0</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">是顶点<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> (p1.x - p0.x) * (p2.y - p0.y) - (p2.x - 
p0.x) * (p1.y - p0.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">若结果等于<span lang="EN-US">0</span>，则这三点共线</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">若结果大于<span lang="EN-US">0</span>，则<span lang="EN-US">p0p2</span>在<span lang="EN-US">p0p1</span>的逆时针方向</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">若结果小于<span lang="EN-US">0</span>，则<span lang="EN-US">p0p2</span>在<span lang="EN-US">p0p1</span>的顺时针方向<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">/*</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">折线的拐向的判断（从<span lang="EN-US">p0</span>向<span lang="EN-US">p1</span>看过去的左边）<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">若<span lang="EN-US"> 
(p2 - p1) </span>叉乘<span lang="EN-US"> (p1 - p0) &lt; 0 ,</span>则<span lang="EN-US">p0p1</span>在<span lang="EN-US">p1</span>点拐向左侧后得到<span lang="EN-US">p1p2</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">若<span lang="EN-US"> 
(p2 - p1) </span>叉乘<span lang="EN-US"> (p1 - p0) = 0 ,</span>则<span lang="EN-US"> 
p0, p1, p2</span>三点共线</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">若<span lang="EN-US"> 
(p2 - p1) </span>叉乘<span lang="EN-US"> (p1 - p0) &gt; 0 ,</span>则<span lang="EN-US">p0p1</span>在<span lang="EN-US">p1</span>点拐向右侧后得到<span lang="EN-US">p1p2
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">*/</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">&nbsp;</span></div>
<p class="MsoNormal"><span lang="EN-US" style="font-size: 12.0pt">(9)</span><span style="font-size: 12.0pt; font-family: 宋体">三角形的面积公式</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">角形面积的计算<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//&nbsp; 
S = ah / 2</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//&nbsp; 
S = absinC / 2</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//&nbsp; 
S = sqrt(p * (p - a) * (p - b) * (p - c)), p = (a + b + c) / 2</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//&nbsp; 
S = abc / R / 4</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
triangleArea(TPoint t[])</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> fabs((t[1].x - t[0].x) * (t[2].y - 
t[0].y)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - 
(t[2].x - t[0].x) * (t[1].y - t[0].y)) / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">&nbsp;</span></div>
<p class="MsoNormal"><span lang="EN-US" style="font-size: 12.0pt">(10)</span><span style="font-size: 12.0pt; font-family: 宋体">三角形的内接圆</span><span lang="EN-US" style="font-size: 12.0pt">(</span><span style="font-size: 12.0pt; font-family: 宋体">未检验正确性</span><span lang="EN-US" style="font-size: 12.0pt">)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">TCircle 
incircleOfTriangle(TTriangle t)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">三角形的内接圆<span lang="EN-US">(</span>未检验正确性<span lang="EN-US">)
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TCircle tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a, b, c, angleA, angleB, angleC, p, p2, 
p3, f1, f2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> xA, yA, xB, yB, xC, yC;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; a = 
distance(t.t[0], t.t[1]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; b = 
distance(t.t[1], t.t[2]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; c = 
distance(t.t[2], t.t[0]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">/*</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;&nbsp;&nbsp; 
S = p * r</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;&nbsp;&nbsp; 
p = (a + b + c) / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;&nbsp;&nbsp; 
r = S / P = 2 * S / (a + b + c)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;&nbsp;&nbsp; 
*/</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.r = 2 * 
triangleArea(t) / (a + b +c);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; angleA = 
acos((b * b + c * c - a * a) / (2 * b * c));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; angleB = 
acos((a * a + c * c - b * b) / (2 * a * c));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; angleC = 
acos((a * a + b * b - c * c) / (2 * a * b));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; p = 
sin(angleA / 2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; p2 = 
sin(angleB / 2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; p3 = 
sin(angleC / 2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; xA = 
t.t[0].x; yA = t.t[0].y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; xB = 
t.t[1].x; yB = t.t[1].y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; xC = 
t.t[2].x; yC = t.t[2].y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; f1 = ((tmp.r 
/ p2) * (tmp.r / p2) - (tmp.r / p) * (tmp.r / p) + </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xA * xA 
- xB * xB + yA * yA - yB * yB) / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; f2 = ((tmp.r 
/ p3) * (tmp.r / p3) - (tmp.r / p) * (tmp.r / p) + </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xA * xA 
- xC * xC + yA * yA - yC * yC) / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.centre.x 
= (f1 * (yA - yC) - f2 * (yA - yB)) / </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp; 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((xA - xB) * (yA - yC) - (xA - xC) * (yA - yB));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.centre.y 
= (f1 * (xA - xC) - f2 * (xA - xB)) / </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ((yA - yB) * (xA - xC) - (yA - yC) * (xA - xB));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> tmp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">&nbsp;</span></div>
<p class="MsoNormal"><span lang="EN-US" style="font-size: 12.0pt">(11)</span><span style="font-size: 12.0pt; font-family: 宋体">多边形的面积</span><span lang="EN-US" style="font-size: 12.0pt">(</span><span style="font-size: 12.0pt; font-family: 宋体">适合凹多边形</span><span lang="EN-US" style="font-size: 12.0pt">)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
polygonArea(TPolygon p, <span style="color: blue">int</span> n)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">已知多边形各顶点的坐标，求其面积</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> area;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> i;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; area = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 1;i &lt;= n;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; area += 
(p.p[i - 1].x * p.p[i % n].y - p.p[i % n].x * p.p[i - 1].y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }&nbsp; </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> area / 2;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" style="border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt">&nbsp;</span></div>
<p class="MsoNormal"><span lang="EN-US" style="font-size: 12.0pt">(12)</span><span style="font-size: 12.0pt; font-family: 宋体">判断点是否在线段上</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
isPointOnSegment(TPoint p, TPoint p1, TPoint p2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">// </span></span>
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">判断<span lang="EN-US">p</span>点是否在线段<span lang="EN-US">p1p2</span>上</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//1.p</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">是否在直线<span lang="EN-US">p1p2</span>上<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//2.p</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">是否在以<span lang="EN-US">p1p2</span>为对角线的矩形中</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(multi(p1, p2, p) != 0)
<span style="color: blue">return</span> <span style="color: blue">false</span> ;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>((p.x &gt; p1.x &amp;&amp; p.x &gt; p2.x) || (p.x &lt; p1.x &amp;&amp; 
p.x &lt; p2.x)) <span style="color: blue">return</span> <span style="color: blue">
false</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>((p.y &gt; p1.y &amp;&amp; p.y &gt; p2.y) || (p.y &lt; p1.y &amp;&amp; 
p.y &lt; p2.y)) <span style="color: blue">return</span> <span style="color: blue">
false</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> <span style="color: blue">true</span>;&nbsp;&nbsp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">(13)</span><span style="font-size: 12.0pt; font-family: 新宋体">平面上两个点之间的距离</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
distance(TPoint p1, TPoint p2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">计算平面上两个点之间的距离</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;
<span style="color: blue">return</span> sqrt((p1.x - p2.x) * (p1.x - p2.x) + 
(p1.y - p2.y) * (p1.y - p2.y));&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">(14)p</span><span style="font-size: 12.0pt; font-family: 新宋体">点关于直线<span lang="EN-US">L</span>的对称点</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">TPoint 
symmetricalPointofLine(TPoint p, TLine L)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//p</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">点关于直线<span lang="EN-US">L</span>的对称点<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint p2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> d;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; d = L.a * L.a 
+ L.b * L.b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; p2.x = (L.b * 
L.b * p.x - L.a * L.a * p.x - </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 * 
L.a * L.b * p.y - 2 * L.a * L.c) / d;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; p2.y = (L.a * 
L.a * p.y - L.b * L.b * p.y - </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 * 
L.a * L.b * p.x - 2 * L.b * L.c) / d;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> p2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">点关于线段的对称点</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">首先可以根据线段的两个端点求出线段所在的直线<span lang="EN-US">L</span>，然后再来求指定</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">点关于直线<span lang="EN-US">L</span>的对称点</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">(15)</span><span style="font-size: 12.0pt; font-family: 新宋体">判断一个矩形是否在另一个矩形中</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">/*</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">判断一个矩形是否在另一个矩形中<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">*/</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdio.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;math.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#define</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> pi 
acos(-1)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
swap(<span style="color: blue">double</span> &amp;a, <span style="color: blue">
double</span> &amp;b)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp = a;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; a = b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; b = tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
main()</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a, b, x, y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(scanf(&quot;%lf%lf%lf%lf&quot;, &amp;a, &amp;b, &amp;x, &amp;y)){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(a == 0 &amp;&amp; b == 0 &amp;&amp; x== 0 &amp;&amp; y== 0)
<span style="color: blue">break</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(a * b &lt;= x * y){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;Box cannot be dropped.\n&quot;);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">continue</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(a &lt; b) swap(a, b);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(x &lt; y) swap(x, y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>((a &gt;= x &amp;&amp; b &gt;= y) || (x &lt;= b)){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;Escape is possible.\n&quot;);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">continue</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> tag = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(<span style="color: blue">double</span> i = 
0;i &lt;= 90;i += 0.2){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> angle = i * pi / 180;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(x * cos(angle) + y * sin(angle) &lt; a </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &amp;&amp; 
y * cos(angle) + x * sin(angle ) &lt; b){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf(&quot;Escape is possible.\n&quot;);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tag = 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">break</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(tag == 0) printf(&quot;Box cannot be 
dropped.\n&quot;);&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">(16)</span><span style="font-size: 12.0pt; font-family: 新宋体">直线和圆的交点<span lang="EN-US">+</span>点关于线的对称点<span lang="EN-US">+</span>点到线的距离<span lang="EN-US">+</span>直线方程<span lang="EN-US">(fzu_1035)</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">/*</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
fzu_1035</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">1.</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">直线和圆的交点<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">2.</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">点关于线的对称点</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">3.</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">点到线的距离<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">4.</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">直线方程<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">*/</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;iostream&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;cmath&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
using</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">namespace</span> std;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#define</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
INF 999999999</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
const</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">double</span> eps = 1e-6;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
up;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TPoint</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TPoint;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TCircle</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint 
center;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> r;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TCircle;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TLine</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">直线标准式中的系数<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a, b, c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TLine;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
SloveLine(TLine &amp;line, TPoint start, TPoint dir)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">根据直线上一点和直线的方向求直线的方程<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(dir.x == 0){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; line.a = 
1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; line.b = 
0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; line.c = 
start.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> k = dir.y / dir.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; line.a = 
k;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; line.b = 
-1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; line.c = 
start.y - k * start.x;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">TLine 
lineFromSegment(TPoint p1, TPoint p2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">线段所在直线<span lang="EN-US">,</span>返回直线方程的三个系统<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TLine tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.a = p2.y 
- p1.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.b = p1.x 
- p2.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.c = p2.x 
* p1.y - p1.x * p2.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">TPoint 
symmetricalPointofLine(TPoint p, TLine L)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//p</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">点关于直线<span lang="EN-US">L</span>的对称点<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint p2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> d;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; d = L.a * L.a 
+ L.b * L.b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; p2.x = (L.b * 
L.b * p.x - L.a * L.a * p.x - </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 * 
L.a * L.b * p.y - 2 * L.a * L.c) / d;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; p2.y = (L.a * 
L.a * p.y - L.b * L.b * p.y - </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 * 
L.a * L.b * p.x - 2 * L.b * L.c) / d;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> p2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
distanc(TPoint p1, TPoint p2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">计算平面上两个点之间的距离</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;
<span style="color: blue">return</span> sqrt((p1.x - p2.x) * (p1.x - p2.x) + 
(p1.y - p2.y) * (p1.y - p2.y));&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
samedir(TPoint dir, TPoint start, TPoint point)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">判断方向<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.x = 
point.x - start.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.y = 
point.y - start.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(tmp.x != 0 &amp;&amp; dir.x != 0){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(tmp.x / dir.x &gt; 0) <span style="color: blue">
return</span> <span style="color: blue">true</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span>
<span style="color: blue">false</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">if</span>(tmp.y 
!= 0 &amp;&amp; dir.y != 0){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(tmp.y / dir.y &gt; 0) <span style="color: blue">
return</span> <span style="color: blue">true</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span>
<span style="color: blue">false</span>; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> <span style="color: blue">true</span>;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
Intersected(TPoint &amp;point, TLine line, <span style="color: blue">const</span> 
TCircle circle[], </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
&nbsp;TPoint start, TPoint dir, <span style="color: blue">int</span> which)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">如果圆与直线有<span lang="EN-US">(</span>有效交点<span lang="EN-US">)</span>交点就存放在变量<span lang="EN-US">point</span>中<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a = line.a, b = line.b, c = line.c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> x0 = circle[which].center.x, y0 = 
circle[which].center.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> r =&nbsp; circle[which].r;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">有交点，求交点<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> x2front = b * b + a * a;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> x1front = -2 * x0 * b * b + 2 * a * b * 
y0 + 2 * a * c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> front = x0 * x0 * b * b + y0 * y0 * b * 
b </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + c * c + 
2 * c * y0 * b - b * b * r * r;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> d = x1front * x1front - 4 * x2front * 
front;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint p1, 
p2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">bool</span> k1, k2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(d) &lt; eps){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: green">//x2front</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">不可能等于零<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; point.x = 
-x1front / x2front / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; point.y = 
(-c - a * point.x) / b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">判断方向</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(samedir(dir, start, point))
<span style="color: blue">return</span> <span style="color: blue">true</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span>
<span style="color: blue">false</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">if</span>(d &lt; 0)
<span style="color: blue">return</span> <span style="color: blue">false</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p1.x = 
(-x1front + sqrt(d)) / 2 / x2front;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p1.y = 
(-c - a * p1.x) / b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p2.x = 
(-x1front - sqrt(d)) / 2 / x2front;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p2.y = 
(-c - a * p2.x) / b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; k1 = 
samedir(dir, start, p1);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; k2 = 
samedir(dir, start, p2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(k1 == <span style="color: blue">false</span> 
&amp;&amp; k2 == <span style="color: blue">false</span>) <span style="color: blue">
return</span> <span style="color: blue">false</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(k1 == <span style="color: blue">true</span> 
&amp;&amp; k2 == <span style="color: blue">true</span>){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> dis1 = distanc(p1, start);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> dis2 = distanc(p2, start);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(dis1 &lt; dis2) point = p1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> point = p2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> <span style="color: blue">true</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">if</span>(k1 ==
<span style="color: blue">true</span>) point = p1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> point = p2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> <span style="color: blue">true</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }&nbsp; </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
Reflect(<span style="color: blue">int</span> &amp;num, TCircle circle[], TPoint 
start, TPoint dir, <span style="color: blue">int</span> n)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">反复反射<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> i;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TLine line;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint 
interpoint, newstart;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> u;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; 
SloveLine(line, start, dir);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> tag = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> mindis = INF;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 1;i &lt;= n;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(i != up &amp;&amp; Intersected(interpoint, line, 
circle, start, dir, i)){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> dis = distanc(start, interpoint);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(dis &lt; mindis){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tag = 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u 
= i;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
mindis = dis;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
newstart = interpoint;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(tag == 0){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout &lt;&lt; 
&quot;inf&quot; &lt;&lt; endl;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> ;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(num == 10){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout 
&lt;&lt; &quot;...&quot; &lt;&lt; endl;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> ;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout &lt;&lt; u 
&lt;&lt; &quot; &quot;; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; num++;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">新的方向<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TLine 
line1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TPoint p;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; line1 = 
lineFromSegment(newstart, circle[u].center);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(line1.a * start.x + line1.b * start.y 
+line1.c) &lt;= eps){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dir.x 
= -dir.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dir.y 
= -dir.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p = 
symmetricalPointofLine(start, line1);<span style="color: green">//start</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">的对称点<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dir.x 
= p.x - newstart.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dir.y 
= p.y - newstart.y; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; start = 
newstart;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; up = u;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
Reflect(num, circle, start, dir, n);&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; } </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
main()</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//freopen(&quot;fzu_1035.in&quot;, &quot;r&quot;, stdin);</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//freopen(&quot;fzu_1035.out&quot;, &quot;w&quot;, stdout);</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> n, i, j, num, test = 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TCircle 
circle[30];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint start, 
dir;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(cin &gt;&gt; n &amp;&amp; n){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 1;i &lt;= n;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cin 
&gt;&gt; circle[i].center.x &gt;&gt; circle[i].center.y &gt;&gt; circle[i].r;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cin &gt;&gt; 
start.x &gt;&gt; start.y &gt;&gt; dir.x &gt;&gt; dir.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout &lt;&lt; 
&quot;Scene &quot; &lt;&lt; test++ &lt;&lt; endl;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; num = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; up = -1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
Reflect(num, circle, start, dir, n);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cout &lt;&lt; 
endl;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; } </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">(17)</span><span style="font-size: 12.0pt; font-family: 新宋体">判断点是否在多边形内</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdio.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;math.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#define</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
Maxn 1000</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#define</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
eps 1e-6</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#define</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> pi 
acos(-1)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#define</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
inf 9999999</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
struct</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
TPoint</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> x, y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">};</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
dispoint(TPoint p1, TPoint p2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> sqrt((p1.x - p2.x) * (p1.x - p2.x) + 
(p1.y - p2.y) * (p1.y - p2.y));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
pall(TPoint p1, TPoint p2, TPoint p3, TPoint p4)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs((p1.y - p2.y) * (p3.x - p4.y) </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - (p1.x - 
p2.x) * (p3.y - p4.y)))</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
IsOnSegment(TPoint p, TPoint p1, TPoint p2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> d1 = dispoint(p1, p);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> d2 = dispoint(p, p2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> d3 = dispoint(p1, p2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(d1 + d2 - d3) &lt; eps)
<span style="color: blue">return</span> 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
max(<span style="color: blue">double</span> x, <span style="color: blue">double</span> 
y)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">比较两个数的大小，返回大的数</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(x &gt; y) <span style="color: blue">return</span> 
x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> y;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
min(<span style="color: blue">double</span> x, <span style="color: blue">double</span> 
y)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">比较两个数的大小，返回小的数</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(x &lt; y) <span style="color: blue">return</span> 
x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> y;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
multi(TPoint p1, TPoint p2, TPoint p0)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">求矢量<span lang="EN-US">[p0, 
p1], [p0, p2]</span>的叉积</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//p0</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">是顶点<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> (p1.x - p0.x) * (p2.y - p0.y) - (p2.x - 
p0.x) * (p1.y - p0.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">若结果等于<span lang="EN-US">0</span>，则这三点共线</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">若结果大于<span lang="EN-US">0</span>，则<span lang="EN-US">p0p2</span>在<span lang="EN-US">p0p1</span>的逆时针方向</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">若结果小于<span lang="EN-US">0</span>，则<span lang="EN-US">p0p2</span>在<span lang="EN-US">p0p1</span>的顺时针方向<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
isIntersected(TPoint s1, TPoint e1, TPoint s2, TPoint e2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">判断线段是否相交</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//1.</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">快速排斥试验判断以两条线段为对角线的两个矩形是否相交<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//2.</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">跨立试验</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; (max(s1.x, 
e1.x) &gt;= min(s2.x, e2.x)) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; (max(s2.x, 
e2.x) &gt;= min(s1.x, e1.x)) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp; &nbsp;(max(s1.y, 
e1.y) &gt;= min(s2.y, e2.y)) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; (max(s2.y, 
e2.y) &gt;= min(s1.y, e1.y)) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; (multi(s2, 
e1, s1) * multi(e1, e2, s1) &gt;= 0) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; (multi(s1, 
e2, s2) * multi(e2, e1, s2) &gt;= 0)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; )&nbsp;
<span style="color: blue">return</span> <span style="color: blue">true</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> <span style="color: blue">false</span>;&nbsp;&nbsp;&nbsp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
IsInPolygon(TPoint p0, TPoint p[], <span style="color: blue">int</span> n)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a, k;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint p2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> i, j, tag;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(a = 1.0;a &lt; pi / 2; a += 1.0){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; k = 
tan(a);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p2.x = 
inf;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p2.y = 
p0.y + k * (p2.x - p0.x);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tag = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt; n;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<span style="color: blue">if</span>(IsOnSegment(p[i], 
p0, p2)){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
tag = 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">break</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(tag == 1) <span style="color: blue">continue</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt; n;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(pall(p0, p2, p[i], p[i + 1])){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
tag = 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">break</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(tag == 0) <span style="color: blue">break</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> num = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt; n;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(isIntersected(p0, p2, p[i], p[i + 1])){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
num++;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(num % 2 == 0) <span style="color: blue">
return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> 1;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
main()</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//freopen(&quot;in.in&quot;, &quot;r&quot;, stdin);</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//freopen(&quot;out.out&quot;, &quot;w&quot;, stdout);</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint 
p[Maxn], p0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> n, m, i, j, tag, test = 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(scanf(&quot;%d&quot;, &amp;n) &amp;&amp; n){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(test != 1) printf(&quot;\n&quot;);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;Problem %d:\n&quot;, test++);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%d&quot;, &amp;m);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt; n;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%lf%lf&quot;, &amp;p[i].x, &amp;p[i].y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p[n] = 
p[0];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 1;i &lt;= m;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%lf%lf&quot;, &amp;p0.x, &amp;p0.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tag = 
0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(j = 0;j &lt; n;j++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue">if</span>(IsOnSegment(p0, 
p[j], p[j + 1])){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf(&quot;Within\n&quot;);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tag = 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue">break</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(tag == 1) <span style="color: blue">continue</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(IsInPolygon(p0, p, n)) printf(&quot;Within\n&quot;);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> printf(&quot;Outside\n&quot;);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: medium none; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 0cm; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">/*</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">判断点<span lang="EN-US">q</span>是否在多边形内的一种方法，过<span lang="EN-US">q</span>作水平射线<span lang="EN-US">L</span>，</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">如果<span lang="EN-US">L</span>与多边形<span lang="EN-US">P</span>的边界不相交，则<span lang="EN-US">q</span>在<span lang="EN-US">P</span>的外部。否则，</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">L</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">和<span lang="EN-US">P</span>的边界相交，具体地说，交点个数为奇（偶）数</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">时，点<span lang="EN-US">q</span>在<span lang="EN-US">P</span>的内（外）部。<span lang="EN-US"> 
*/</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdio.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdlib.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;math.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#define</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
MaxNode 50</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#define</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
INF&nbsp; 999999999</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TPoint</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> y;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TPoiont;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TSegment</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint p1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint p2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TSegment;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TPolygon</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint 
point[MaxNode];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> n;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TPolygon;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
multi(TPoint p1, TPoint p2, TPoint p0)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">求矢量<span lang="EN-US">[p0, 
p1], [p0, p2]</span>的叉积</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//p0</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">是顶点<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> (p1.x - p0.x) * (p2.y - p0.y) - (p2.x - 
p0.x) * (p1.y - p0.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">若结果等于<span lang="EN-US">0</span>，则这三点共线</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">若结果大于<span lang="EN-US">0</span>，则<span lang="EN-US">p0p2</span>在<span lang="EN-US">p0p1</span>的逆时针方向</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">若结果小于<span lang="EN-US">0</span>，则<span lang="EN-US">p0p2</span>在<span lang="EN-US">p0p1</span>的顺时针方向<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
max(<span style="color: blue">double</span> x, <span style="color: blue">double</span> 
y)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">比较两个数的大小，返回大的数</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(x &gt; y) <span style="color: blue">return</span> 
x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> y;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
min(<span style="color: blue">double</span> x, <span style="color: blue">double</span> 
y)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">比较两个数的大小，返回小的数</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(x &lt; y) <span style="color: blue">return</span> 
x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> y;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
Intersect(TSegment L1, TSegment L2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">线段<span lang="EN-US">l1</span>与<span lang="EN-US">l2</span>相交而且不在端点上时，返回<span lang="EN-US">true&nbsp;&nbsp;&nbsp;
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">判断线段是否相交</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//1.</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">快速排斥试验判断以两条线段为对角线的两个矩形是否相交<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint s1 = 
L1.p1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint e1 = 
L1.p2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint s2 = 
L2.p1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint e2 = 
L2.p2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//2.</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">跨立试验</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (max(s1.x, 
e1.x) &gt; min(s2.x, e2.x)) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (max(s2.x, 
e2.x) &gt; min(s1.x, e1.x)) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (max(s1.y, 
e1.y) &gt; min(s2.y, e2.y)) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (max(s2.y, 
e2.y) &gt; min(s1.y, e1.y)) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (multi(s2, 
e1, s1) * multi(e1, e2, s1) &gt; 0) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (multi(s1, 
e2, s2) * multi(e2, e1, s2) &gt; 0)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; )&nbsp;
<span style="color: blue">return</span> <span style="color: blue">true</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> <span style="color: blue">false</span>;&nbsp;&nbsp;&nbsp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
Online(TSegment L, TPoint p)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//p</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">在<span lang="EN-US">L</span>上<span lang="EN-US">(</span>不在端点<span lang="EN-US">)</span>时返回<span lang="EN-US">true</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//1.</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">在<span lang="EN-US">L</span>所在的直线上<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//2.</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">在<span lang="EN-US">L</span>为对角线的矩形中</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> dx, dy, dx1, dy1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; dx = L.p2.x - 
L.p1.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; dy = L.p2.y - 
L.p1.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; dx1 = p.x - 
L.p1.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; dy1 = p.y - 
L.p1.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(dx * dy1 - dy * dx1 != 0)
<span style="color: blue">return</span> <span style="color: blue">false</span>;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">叉积</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(dx1 * (dx1 - dx) &lt; 0 || dy1 * (dy1 - dy) &lt; 
0) <span style="color: blue">return</span> <span style="color: blue">true</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> <span style="color: blue">false</span>;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
same1(TSegment L, TPoint p1, TPoint p2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">判断<span lang="EN-US">p1, 
p2</span>是否在<span lang="EN-US">L</span>的同侧<span lang="EN-US"> </span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(multi(p1, L.p2, L.p1) * multi(L.p2, p2, 
L.p1)&lt; 0) <span style="color: blue">return</span> <span style="color: blue">true</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> <span style="color: blue">false</span>;&nbsp;&nbsp;&nbsp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
Inside(TPoint q, TPolygon polygon)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> c, i;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TSegment L1, 
L2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; c = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; L1.p1 = q;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; L1.p2 = q;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; L1.p2.x = 
INF; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">/*</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;&nbsp;&nbsp;
</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">（<span lang="EN-US">1</span>）相交<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;&nbsp;&nbsp; 
1.p[i]</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">和<span lang="EN-US">p[i+1]</span>在<span lang="EN-US">L</span>的两侧<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;&nbsp;&nbsp; 
2.p[i]</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">和<span lang="EN-US">p[i+2]</span>在<span lang="EN-US">L</span>的同侧</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;&nbsp;&nbsp; 
3.p[u]</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">和<span lang="EN-US">p[i+3]</span>在<span lang="EN-US">L</span>的同侧或异侧<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;&nbsp;&nbsp; 
*/</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt;= polygon.n - 1;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; L2.p1 = 
polygon.point[i];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; L2.p2 = 
polygon.point[(i + 1) % polygon.n];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(Intersect(L1, L2)){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c++;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">continue</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(!Online(L1, polygon.point[(i + 1) % 
polygon.n])) <span style="color: blue">continue</span>; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(!Online(L1, polygon.point[(i + 2) % 
polygon.n]) &amp;&amp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
!same1(L1, polygon.point[i], polygon.point[(i + 2) % polygon.n])){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c++;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">continue</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(Online(L1, polygon.point[(i + 2) % 
polygon.n]) &amp;&amp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
!same1(L1, polygon.point[i], polygon.point[(i + 3) % polygon.n]))</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c++;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }&nbsp; </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(c % 2 == 0) <span style="color: blue">return</span>
<span style="color: blue">false</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span>
<span style="color: blue">true</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
main()</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> i, test, k;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> primp, primq;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint p;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; p.x = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; p.y = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; test = 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPolygon 
polygon;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(scanf(&quot;%d&quot;, &amp;polygon.n) != EOF &amp;&amp; 
polygon.n){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;Pilot %d\n&quot;, test++);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt;= polygon.n - 1;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%lf%lf&quot;, &amp;polygon.point[i].x, &amp;polygon.point[i].y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%d%d&quot;, &amp;primp, &amp;primq);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(Inside(p, polygon)){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;The pilot is in danger!\n&quot;);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; k = 
(primp - 1) * (primq - 1) / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;The secret number is %d.\n&quot;, k); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> printf(&quot;The pilot is safe.\n&quot;);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;\n&quot;);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">(18)N</span><span style="font-size: 12.0pt; font-family: 新宋体">点中三个点组成三角形面积最大</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
//Rotating Calipers algorithm</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdio.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdlib.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;math.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#define</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
MaxNode 50005</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
stack[MaxNode];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
top;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
max;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TPoint</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TPoint;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">TPoint 
point[MaxNode];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
swap(TPoint point[], <span style="color: blue">int</span> i,
<span style="color: blue">int</span> j)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp = 
point[i];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; point[i] = 
point[j];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; point[j] = 
tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
multi(TPoint p1, TPoint p2, TPoint p0)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> (p1.x - p0.x) * (p2.y - p0.y) - (p2.x - 
p0.x) * (p1.y - p0.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
distance(TPoint p1, TPoint p2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> (p1.x - p2.x) * (p1.x - p2.x) + (p1.y - 
p2.y) * (p1.y - p2.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
cmp(<span style="color: blue">const</span> <span style="color: blue">void</span> 
*a, <span style="color: blue">const</span> <span style="color: blue">void</span> 
*b)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint *c = 
(TPoint *)a;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint *d = 
(TPoint *)b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> k = multi(*c, *d, point[0]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(k&lt; 0) <span style="color: blue">return</span> 
1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">if</span>(k == 0 
&amp;&amp; distance(*c, point[0]) &gt;= distance(*d, point[0]))&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> 
-1;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
grahamScan(<span style="color: blue">int</span> n)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//Graham</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">扫描求凸包</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> i, u; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">将最左下的点调整到<span lang="EN-US">p[0]</span>的位置</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; u = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 1;i &lt;= n - 1;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>((point[i].y &lt; point[u].y) || </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; 
(point[i].y == point[u].y &amp;&amp; point[i].x&nbsp; &lt; point[u].x))</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; u = 
i;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; } </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; swap(point, 
0, u);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">将平<span lang="EN-US">p[1]</span>到<span lang="EN-US">p[n 
- 1]</span>按按极角排序，可采用快速排序</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; qsort(point + 
1, n - 1, <span style="color: blue">sizeof</span>(point[0]), cmp);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt;= 2;i++) stack[i] = i;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; top = 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 3;i &lt;= n - 1;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(multi(point[i], point[stack[top]], 
point[stack[top - 1]]) &gt;= 0){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; top--;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(top == 0) <span style="color: blue">break</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; top++;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
stack[top] = i;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
main()</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> triangleArea(<span style="color: blue">int</span> 
i, <span style="color: blue">int</span> j, <span style="color: blue">int</span> 
k);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">void</span> PloygonTriangle();</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> i, n;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(scanf(&quot;%d&quot;, &amp;n) &amp;&amp; n != -1){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt; n;i++)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 
scanf(&quot;%d%d&quot;, &amp;point[i].x, &amp;point[i].y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(n &lt;= 2){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;0.00\n&quot;);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">continue</span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(n == 3){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;%.2lf\n&quot;, triangleArea(0, 1, 2));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">continue</span>; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
grahamScan(n);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp; 
&nbsp;&nbsp;&nbsp;PloygonTriangle();&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;%.2lf\n&quot;, max);&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
PloygonTriangle()</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> triangleArea(<span style="color: blue">int</span> 
i, <span style="color: blue">int</span> j, <span style="color: blue">int</span> 
k);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> i, j , k;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> area, area1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; max = -1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt;= top - 2;i++){ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; k = -1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(j = i + 1; j &lt;= top - 1;j++){ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(k &lt;= j) k= j + 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; area = 
triangleArea(stack[i], stack[j], stack[k]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(area &gt; max) max = area;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(k + 1 &lt;= top){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
area1= triangleArea(stack[i], stack[j], stack[k + 1]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(area1 &lt; area) <span style="color: blue">
break</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(area1 &gt; max) max = area1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
area = area1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
k++;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
triangleArea(<span style="color: blue">int</span> i, <span style="color: blue">
int</span> j, <span style="color: blue">int</span> k)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">已知三角形三个顶点的坐标，求三角形的面积<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> l = fabs(point[i].x * point[j].y + 
point[j].x * point[k].y </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + 
point[k].x * point[i].y - point[j].x * point[i].y </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - 
point[k].x * point[j].y - point[i].x * point[k].y) / 2;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> l;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">(19)</span><span style="font-size: 12.0pt; font-family: 新宋体">扇形的重心</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
//Xc = 2*R*sinA/3/A </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//A</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">为圆心角的一半</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdio.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;math.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
main()</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> r, angle;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(scanf(&quot;%lf%lf&quot;, &amp;r, &amp;angle) != EOF){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; angle /= 
2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;%.6lf\n&quot;, 2 * r * sin(angle) / 3 / angle);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">} </span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">(20)</span><span style="font-size: 12.0pt; font-family: 新宋体">多边形的重心</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">/*</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">题目描述：</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">有一个密度均匀的平面<span lang="EN-US">N</span>多边形<span lang="EN-US">(3 
&lt;= N &lt;= 1000000)</span>，可能凹也可能凸，但没有边相交叉，</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">另外已知<span lang="EN-US">N</span>个有序<span lang="EN-US">(</span>顺时针或逆时针<span lang="EN-US">)</span>顶点的坐标值，第<span lang="EN-US">j</span>个顶点坐标为（<span lang="EN-US">Xi
</span>，<span lang="EN-US"> Yi </span>），且满</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">足<span lang="EN-US"> 
(|Xi|, |Yi| &lt;= 20000)</span>，求这个平面多边形的重心。</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;
</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">解题过程：</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;
</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">从第<span lang="EN-US">1</span>个顶点出发，分别连接第<span lang="EN-US">i, 
i+1</span>个顶点组成三角形<span lang="EN-US">Ti,1 &lt; i &lt; n, </span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;
</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">一共<span lang="EN-US">n-2</span>个三角形正好是多连形的一个划分，分别求出每个三角形的面积<span lang="EN-US">Si</span>，</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;
</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">
总面积为各个面积相加</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;
</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">根据物理学知识得：<span lang="EN-US">n</span>个点<span lang="EN-US">(xi,yi)</span>每个重量是<span lang="EN-US">mi,</span>则重心是<span lang="EN-US">&nbsp;&nbsp;
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp; X 
= (x1*M1+x2*M2+...+xn*Mn) / (M1+M2+....+Mn)&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp; Y 
= (y1*M1+y2*M2+...+yn*Mn) / (M1+M2+....+Mn)&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;
</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">
另个需要用的知识有：</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;
</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">已知<span lang="EN-US">3</span>点求三角形的面积，设三点分别为<span lang="EN-US">p[0].x, 
p[0].y p[1].x, p[1].y p[1].x, p[1].y</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;
</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">面积<span lang="EN-US">s 
=[ p[0].x*p[1].y-p[1].x*p[0].y + p[1].x*p[2].y-p[2].x*p[1].y + 
p[2].x*p[0].y-p[0].x*p[2].y ] / 2 , </span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;
</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">这是这<span lang="EN-US">3</span>个点是逆时针的值，顺时针取负。</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;
</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">已知<span lang="EN-US">3</span>点求重心，<span lang="EN-US">x 
= (p[0].x+p[1].x+p[2].x)/3.0 , y = (p[0].y+p[1].y+p[2].y)/3.0 </span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;
</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">
另外在求解的过程中，不需要考虑点的输入顺序是顺时针还是逆时针，相除后就抵消了，</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;
</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">还要注意 
一点是不必在求每个小三角形的重心时都除以<span lang="EN-US">3</span>，可以在最后除一下</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp; &nbsp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">*/</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
/*fzu_1132*/</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdio.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;math.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TPoint</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TPoint;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
triangleArea(TPoint p0, TPoint p1, TPoint p2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">已知三角形三个顶点的坐标，求三角形的面积<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> k = p0.x * p1.y + p1.x * p2.y</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + p2.x * 
p0.y - p1.x * p0.y </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - p2.x * 
p1.y - p0.x * p2.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//if(k &gt;= 0) return k / 2;</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//&nbsp; 
else return -k / 2;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> k / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
main()</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> i, n, test;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint p0, 
p1, p2, center;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp; &nbsp;&nbsp;<span style="color: blue">double</span> 
area, sumarea, sumx, sumy;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; scanf(&quot;%d&quot;, 
&amp;test);&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(test--){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%d&quot;, &amp;n);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%lf%lf&quot;, &amp;p0.x, &amp;p0.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%lf%lf&quot;, &amp;p1.x, &amp;p1.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sumx = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sumy = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sumarea = 
0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 2;i &lt; n;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%lf%lf&quot;, &amp;p2.x, &amp;p2.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
center.x = p0.x + p1.x + p2.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
center.y = p0.y + p1.y + p2.y;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; area 
=&nbsp; triangleArea(p0, p1, p2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
sumarea += area;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sumx 
+= center.x * area;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sumy 
+= center.y * area; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p1 = 
p2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;%.2lf %.2lf\n&quot;, sumx / sumarea / 3, sumy / sumarea / 3);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">(21)</span><span style="font-size: 12.0pt; font-family: 新宋体">判断<span lang="EN-US">N</span>点是否共面</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
/*fzu_1393*/</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;iostream&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;cmath&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
using</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">namespace</span> std;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TPoint</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> z;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TPoint;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
const</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">double</span> eps = 1e-6;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp; 
main()</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint a, b, 
c, d, ab, ac, abc;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> n, i;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; cin &gt;&gt; n;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(n--){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cin &gt;&gt; 
a.x &gt;&gt; a.y &gt;&gt; a.z</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &gt;&gt; 
b.x &gt;&gt; b.y &gt;&gt; b.z</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &gt;&gt; 
c.x &gt;&gt; c.y &gt;&gt; c.z</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt; 
d.x &gt;&gt; d.y &gt;&gt; d.z;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ab.x = 
b.x - a.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ab.y = 
b.y - a.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ab.z = 
b.z - a.z;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ac.x = 
c.x - a.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ac.y = 
c.y - a.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ac.z = 
c.z - a.z;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; abc.x = 
ab.y * ac.z - ab.z * ac.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; abc.y = 
-(ab.x * ac.z - ab.z * ac.x);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; abc.z = 
ab.x * ac.y - ab.y * ac.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: green">//abc.x * (x - a.x) + abc.y * (y - a.y) + abc.z * (z 
- a.z) = 0; </span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(abc.x * (d.x - a.x) + abc.y * (d.y - 
a.y) </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + 
abc.z * (d.z - a.z)) &lt; eps)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;Yes\n&quot;);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> printf(&quot;No\n&quot;);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">(22)</span><span style="font-size: 12.0pt; font-family: 新宋体">求共线的点最多为多少</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">/*</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
2617120 chenhaifeng 1118 Accepted 512K 1890MS C++ 977B 2007-09-04 18:43:26
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">直接<span lang="EN-US">O(n^3)</span>超时，用一个标记数组，标记<span lang="EN-US">i,j</span>所做直线已经查找过，可以跳过</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">大牛的思想</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">朴素做法是<span lang="EN-US"> 
O(n3) </span>的，超时。我的做法是枚举每个点，</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">
然后求其它点和它连线的斜率，再排序。这样就得到经过</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">
该点的直线最多能经过几个点。求个最大值就行了。复</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">杂度是<span lang="EN-US"> 
O(n2logn) </span>的。把排序换成<span lang="EN-US"> hash</span>，</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">可以优化到<span lang="EN-US"> 
O(n2)</span>。<span lang="EN-US"> </span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
2617134 chenhaifeng 1118 Accepted 276K 312MS G++ 1394B 2007-09-04 18:49:08
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">*/</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
/*pku_1118_</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">共线最多的点的个数<span lang="EN-US">.cpp*/</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdio.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;math.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
f[705][705];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
a[705];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
main()</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> n, i, j, s, num, maxn;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> x[705], y[705];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> t, m;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(scanf(&quot;%d&quot;, &amp;n) != EOF &amp;&amp; n){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt;= n - 1;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%d%d&quot;, &amp;x[i], &amp;y[i]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxn = -1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt;= n - 1;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(j = i;j &lt;= n - 1;j++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
f[i][j] = <span style="color: blue">false</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt;= n - 1;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(j = i + 1;j &lt;= n - 1;j++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(f[i][j] == <span style="color: blue">true</span>)
<span style="color: blue">continue</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(n - j &lt; maxn) <span style="color: blue">
break</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; num 
= 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t = 
2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
a[0] = i;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
a[1] = j;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
f[i][j] = <span style="color: blue">true</span>; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(s = j + 1;s &lt;= n - 1;s++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(f[i][s] == <span style="color: blue">true</span> 
|| f[j][s] == <span style="color: blue">true</span>) <span style="color: blue">
continue</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>((y[i] - y[s]) * (x[j] - x[s]) == (x[i] - 
x[s]) * (y[j] - y[s])){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;num++;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;a[t] = s;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<span style="color: blue">for</span>(m = 0;m &lt;= t - 
1;m++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; f[m][s] = <span style="color: blue">true</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t++;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
}&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(num &gt; maxn) maxn = num;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;%d\n&quot;, maxn);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">} </span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">(23)N</span><span style="font-size: 12.0pt; font-family: 新宋体">个矩形的相交的面积</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">/*</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">大牛的思想<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">题目给出<span lang="EN-US"> 
n </span>个矩形，要求它们的面积并。具体做法是离散化。</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">先把<span lang="EN-US"> 
2n </span>个<span lang="EN-US"> x </span>坐标排序去重，然后再把所有水平线段（</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">要记录是矩形上边还是下边）按<span lang="EN-US"> 
y </span>坐标排序。</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">最后对于每一小段区间<span lang="EN-US"> 
(x[i], x[i + 1]) </span>扫描所有的水平线段，</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">
求出这些水平线段在小区间内覆盖的面积。总的时间复杂度是<span lang="EN-US"> O(n^2)</span>。</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">利用线段树，可以优化到<span lang="EN-US"> 
O(nlogn)</span>。</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
pku_1151</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">*/</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdio.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;math.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdlib.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#define</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
up&nbsp; 1</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#define</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
down -1</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TSeg</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> l, r;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> UpOrDown;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TSeg;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">TSeg seg[210];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
segn;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
x[210];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
xn;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
cmp1(<span style="color: blue">const</span> <span style="color: blue">void</span> 
*a, <span style="color: blue">const</span> <span style="color: blue">void</span> 
*b)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(*(<span style="color: blue">double</span> 
*)a &lt; *(<span style="color: blue">double</span> *)b) <span style="color: blue">
return</span> -1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
cmp2(<span style="color: blue">const</span> <span style="color: blue">void</span> 
*a, <span style="color: blue">const</span> <span style="color: blue">void</span> 
*b)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TSeg *c = 
(TSeg *)a;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TSeg *d = 
(TSeg *)b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(c-&gt;y &lt; d-&gt;y) <span style="color: blue">
return</span> -1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
movex(<span style="color: blue">int</span> t, <span style="color: blue">int</span> 
&amp;xn)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> i;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = t;i &lt;= xn - 1;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x[i] = x[i 
+ 1];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; xn--;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
main()</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//freopen(&quot;in.in&quot;, &quot;r&quot;, stdin);</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//freopen(&quot;out.out&quot;, &quot;w&quot;, stdout);</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> n, i, j, cnt, test = 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> x1, y1, x2, y2, ylow, area;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(scanf(&quot;%d&quot;, &amp;n) != EOF &amp;&amp; n){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xn = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; segn = 
0;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt; n;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%lf%lf%lf%lf&quot;, &amp;x1, &amp;y1, &amp;x2, &amp;y2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
x[xn++] = x1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
x[xn++] = x2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
seg[segn].l = x1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
seg[segn].r = x2;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
seg[segn].y = y1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
seg[segn++].UpOrDown = up;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
seg[segn].l = x1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
seg[segn].r = x2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
seg[segn].y = y2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
seg[segn++].UpOrDown = down;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; qsort(x, 
xn, <span style="color: blue">sizeof</span>(x[0]), cmp1);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: green">/*</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">除掉重复的<span lang="EN-US">x*/</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 1;i &lt; xn;){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(x[i] == x[i - 1]) movex(i, xn);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> i++;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; qsort(seg, 
segn, <span style="color: blue">sizeof</span>(seg[0]), cmp2);&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; area = 
0.0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt; xn - 1;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cnt = 
0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(j = 0;j &lt; segn;j++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(seg[j].l &lt;= x[i] &amp;&amp; seg[j].r &gt;= x[i + 1]){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(cnt == 0) ylow = seg[j].y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(seg[j].UpOrDown == down) cnt++;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> cnt--;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(cnt == 0) area += (x[i + 1] - x[i]) * 
(seg[j].y - ylow);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;Test case #%d\n&quot;, test++);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;Total explored area: %.2lf\n&quot;, area); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">(24)</span><span style="font-size: 12.0pt; font-family: 新宋体">三角形外接圆<span lang="EN-US">+</span>圆的参数方程<span lang="EN-US">(pku_1266)</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
//pku_1266_</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">三角形外接圆<span lang="EN-US">+</span>圆的参数方程<span lang="EN-US">.cpp</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdio.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;math.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
const</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">double</span> eps = 1e-6;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
const</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">double</span> pi = acos(-1);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
const</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">double</span> inf = 9999999.0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TPoint</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> x, y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TPoint;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TCircle</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> r;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TCircle;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TTriangle </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint t[3];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TTriangle;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
max(<span style="color: blue">double</span> x, <span style="color: blue">double</span> 
y)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(x &gt; y) <span style="color: blue">return</span> 
x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> y;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
min(<span style="color: blue">double</span> x, <span style="color: blue">double</span> 
y)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(x &lt; y) <span style="color: blue">return</span> 
x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> y;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
distance(TPoint p1, TPoint p2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;
<span style="color: blue">return</span> sqrt((p1.x - p2.x) * (p1.x - p2.x)
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + 
(p1.y - p2.y) * (p1.y - p2.y));&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
triangleArea(TTriangle t)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">已知三角形三个顶点的坐标，求三角形的面积<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> fabs(t.t[0].x * t.t[1].y + t.t[1].x * 
t.t[2].y </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + 
t.t[2].x * t.t[0].y - t.t[1].x * t.t[0].y</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - 
t.t[2].x * t.t[1].y - t.t[0].x * t.t[2].y) / 2;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">TCircle 
circumcircleOfTriangle(TTriangle t)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">三角形的外接圆</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TCircle tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a, b, c, c1, c2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> xA, yA, xB, yB, xC, yC;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; a = 
distance(t.t[0], t.t[1]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; b = 
distance(t.t[1], t.t[2]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; c = 
distance(t.t[2], t.t[0]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">根据<span lang="EN-US">S 
= a * b * c / R / 4;</span>求半径<span lang="EN-US">R </span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.r = a * b 
* c / triangleArea(t) / 4;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; xA = 
t.t[0].x; yA = t.t[0].y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; xB = 
t.t[1].x; yB = t.t[1].y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; xC = 
t.t[2].x; yC = t.t[2].y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; c1 = (xA * xA 
+ yA * yA - xB * xB - yB * yB) / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; c2 = (xA * xA 
+ yA * yA - xC * xC - yC * yC) / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.c.x = (c1 
* (yA - yC) - c2 * (yA - yB)) / </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ((xA - 
xB) * (yA - yC) - (xA - xC) * (yA - yB)); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.c.y = (c1 
* (xA - xC) - c2 * (xA - xB)) / </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ((yA - 
yB) * (xA - xC) - (yA - yC) * (xA - xB)); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> tmp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
Get_angle(TPoint p, TCircle c)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> ans;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; ans = 
acos((p.x - c.c.x) / c.r);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(p.y &lt; c.c.y){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(ans &gt;= M_PI / 2){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ans = 
(M_PI - ans) + M_PI;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ans = 
2 * M_PI - ans;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> ans;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
swap(<span style="color: blue">double</span> &amp;a, <span style="color: blue">
double</span> &amp;b)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; c = a;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; a = b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; b = c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
UP(<span style="color: blue">double</span> a)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> a0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(a &gt;= 0){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a0 =
<span style="color: blue">int</span>(a);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(a0 - a) &lt; eps)
<span style="color: blue">return</span> a0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> a0 
+ 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a0 = (<span style="color: blue">int</span>)a;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(a0 - 1 - a) &lt; eps)
<span style="color: blue">return</span> a0 - 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> a0;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
DOWN(<span style="color: blue">double</span> a)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> a0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(a &gt;= 0){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a0 = (<span style="color: blue">int</span>)a;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(a - (a0 + 1)) &lt; eps)
<span style="color: blue">return</span> a0 + 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> a0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;a0 = (<span style="color: blue">int</span>)a;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(a0 - a) &lt; eps)
<span style="color: blue">return</span> a0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> a0 
- 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }&nbsp; </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
main()</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TCircle c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TTriangle t;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint p1, 
p2, p3;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a1, a2, a3, tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> max_x, min_x, max_y, min_y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%lf%lf&quot;, &amp;p1.x, &amp;p1.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%lf%lf%lf%lf&quot;, &amp;p2.x, &amp;p2.y, &amp;p3.x, &amp;p3.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t.t[0] = 
p1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t.t[1] = 
p2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t.t[2] = 
p3;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c = 
circumcircleOfTriangle(t);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a1 = 
Get_angle(p1, c);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a2 = 
Get_angle(p2, c);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a3 = 
Get_angle(p3, c);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(a1 &gt; a2) swap(a1, a2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">讨论</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(a3 &gt;= a1 &amp;&amp; a3 &lt;= a2){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp = 
0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(tmp &gt;= a1 &amp;&amp; tmp &lt;= a2){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
max_x = UP(c.c.x + c.r);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> max_x = UP(max(p1.x, p2.x));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp = 
pi / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(tmp &gt;= a1 &amp;&amp; tmp &lt;= a2){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_y = UP(c.c.y + c.r);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> max_y = UP(max(p1.y, p2.y));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp = 
pi;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(tmp &gt;= a1 &amp;&amp; tmp &lt;= a2){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
min_x = DOWN(c.c.x - c.r);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> min_x = DOWN(min(p1.x, p2.x));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp = 
pi * 3 / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(tmp &gt;= a1 &amp;&amp; tmp &lt;= a2){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
min_y = DOWN(c.c.y - c.r);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> min_y = DOWN(min(p1.y, p2.y)); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp = 
0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(tmp &lt;= a1 || tmp &gt;= a2){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
max_x = UP(c.c.x + c.r);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> max_x = UP(max(p1.x, p2.x));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp = 
pi / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(tmp &lt;= a1 || tmp &gt;= a2){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
max_y = UP(c.c.y + c.r);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> max_y = UP(max(p1.y, p2.y));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp = 
pi;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(tmp &lt;= a1 || tmp &gt;= a2){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
min_x = DOWN(c.c.x - c.r);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> min_x = DOWN(min(p1.x, p2.x));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp = 
pi * 3 / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(tmp &lt;= a1 || tmp &gt;= a2){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
min_y = DOWN(c.c.y - c.r);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> min_y = DOWN(min(p1.y, p2.y)); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;%d\n&quot;, (max_x - min_x) * (max_y - min_y));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">(25)</span><span style="font-size: 12.0pt; font-family: 新宋体">判断线段是否有交点并求交点<span lang="EN-US">(cug_1078)</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
/*cug_1078</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">判断线段是否有交点并求交点<span lang="EN-US">*/</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdio.h&gt; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdlib.h&gt; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;math.h&gt; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
const</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">double</span> eps = 1e-6; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TPodouble&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> x; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> y; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TPodouble;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TLine </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a, b, c; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TLine; </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
max(<span style="color: blue">double</span> x, <span style="color: blue">double</span> 
y) </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(x &gt; y) <span style="color: blue">return</span> 
x; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> 
y;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">} </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
min(<span style="color: blue">double</span> x, <span style="color: blue">double</span> 
y) </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(x &lt; y) <span style="color: blue">return</span> 
x; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> 
y;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">} </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
multi(TPodouble&nbsp; p1, TPodouble&nbsp; p2, TPodouble&nbsp; p0) </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> (p1.x - p0.x) * (p2.y - p0.y) - (p2.x - 
p0.x) * (p1.y - p0.y); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">} </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">TLine 
lineFromSegment(TPodouble p1, TPodouble p2) </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TLine tmp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.a = p2.y 
- p1.y; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.b = p1.x 
- p2.x; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.c = p2.x 
* p1.y - p1.x * p2.y; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> tmp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">} </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
Linedoubleer(TLine l1, TLine l2) </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> x, y; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a1 = l1.a; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> b1 = l1.b; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> c1 = l1.c; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a2 = l2.a; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> b2 = l2.b; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> c2 = l2.c; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(b1 == 0){ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x = -c1 / 
(<span style="color: blue">double</span>)a1;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; y = (-c2 
- a2 * x) / (<span style="color: blue">double</span>)b2; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span>{ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x = (<span style="color: blue">double</span>)(c1 
* b2 - b1 * c2) / (<span style="color: blue">double</span>)(b1 * a2 - b2 * a1);
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; y = (<span style="color: blue">double</span>)(-c1 
- a1 * x) /(<span style="color: blue">double</span>)b1; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; } </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; printf(&quot;%.3lf 
%.3lf\n&quot;, x, y); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">} </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
isIntersected(TPodouble s1, TPodouble e1, TPodouble s2, TPodouble e2){ </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>( </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; (max(s1.x, 
e1.x) &gt;= min(s2.x, e2.x)) &amp;&amp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; (max(s2.x, 
e2.x) &gt;= min(s1.x, e1.x)) &amp;&amp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; (max(s1.y, 
e1.y) &gt;= min(s2.y, e2.y)) &amp;&amp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; (max(s2.y, 
e2.y) &gt;= min(s1.y, e1.y)) &amp;&amp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; (multi(s2, 
e1, s1) * multi(e1, e2, s1) &gt;= 0) &amp;&amp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; (multi(s1, 
e2, s2) * multi(e2, e1, s2) &gt;= 0) </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; )&nbsp;
<span style="color: blue">return</span> <span style="color: blue">true</span>;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> <span style="color: blue">false</span>;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">} </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
dis(TPodouble a, TPodouble b) </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> sqrt((a.x - b.x) * (a.x - b.x) + (a.y - 
b.y) * (a.y - b.y)); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">} </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
ISSAME(TPodouble&nbsp; a, TPodouble&nbsp; b) </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(a.x - b.x) &gt; eps)
<span style="color: blue">return</span> 0; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(a.y - b.y) &gt; eps)
<span style="color: blue">return</span> 0; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 1; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">} </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
between(TPodouble s1, TPodouble e1, TPodouble s2, TPodouble&nbsp; e2) </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> d1 = dis(s1, s2); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> d2 = dis(s1, e2); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> d3 = dis(e1, s2); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> d4 = dis(e1, e2); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> d5 = dis(s1, e1); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> d6 = dis(s2, e2); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(ISSAME(s1, s2) &amp;&amp; fabs(d5 + d6 - d4) &lt; eps) 
printf(&quot;%.3lf %.3lf\n&quot;, s1.x, s1.y); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">if</span>(ISSAME(s1, 
e2) &amp;&amp; fabs(d3 - d5 - d6) &lt; eps) printf(&quot;%.3lf %.3lf\n&quot;, s1.x, s1.y); </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">if</span>(ISSAME(e1, 
s2) &amp;&amp; fabs(d2 - d5 - d6) &lt; eps) printf(&quot;%.3lf %.3lf\n&quot;, s2.x, s2.y); </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">if</span>(ISSAME(e1, 
e2) &amp;&amp; fabs(d1 - d5 - d6) &lt; eps) printf(&quot;%.3lf %.3lf\n&quot;, e2.x, e2.y); </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> printf(&quot;Too much points in common\n&quot;);
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">} </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
main() </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPodouble s1, 
e1, s2, e2; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TLine l1, l2;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(scanf(&quot;%lf%lf%lf%lf%lf%lf%lf%lf&quot;, &amp;s1.x, 
&amp;s1.y, &amp;e1.x, &amp;e1.y, &amp;s2.x, &amp;s2.y, &amp;e2.x, &amp;e2.y) != EOF){ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs((s1.y - e1.y) * (s2.x - e2.x) - (s1.x - 
e1.x) * (s2.y - e2.y)) &lt; eps){ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l1 = 
lineFromSegment(s1, e1); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l2.c 
= -(l1.a * s2.x + l1.b * s2.y); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs((l1.c - l2.c) / sqrt((<span style="color: blue">double</span>)l1.a 
* l1.a + l1.b * l1.b)) &gt; 0){ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;No point in common\n&quot;); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> { </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(!isIntersected(s1, e1, s2, e2)) printf(&quot;No 
point in common\n&quot;); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> between(s1, e1, s2, e2); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> { </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(isIntersected(s1, e1, s2, e2)){ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
l1 = lineFromSegment(s1, e1); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
l2 = lineFromSegment(s2, e2); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
Linedoubleer(l1, l2);&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> printf(&quot;No point in common\n&quot;); </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; } </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">} </span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">(26)</span><span style="font-size: 12.0pt; font-family: 新宋体">简单多边形的核</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">/*</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">多边形的核<span lang="EN-US">*/</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdio.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;math.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#define</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
Maxn 3005</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
const</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">double</span> eps = 1e-10;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TPodouble </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TPoint;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TPolygon</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint 
p[Maxn];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> n;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">};</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TLine</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a, b, c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TLine;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
same(TPoint p1, TPoint p2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(p1.x != p2.x) <span style="color: blue">
return</span> <span style="color: blue">false</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(p1.y != p2.y) <span style="color: blue">
return</span> <span style="color: blue">false</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> <span style="color: blue">true</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
multi(TPoint p1, TPoint p2, TPoint p0)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">求矢量<span lang="EN-US">[p0, 
p1], [p0, p2]</span>的叉积</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//p0</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">是顶点<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> (p1.x - p0.x) * (p2.y - p0.y) - (p2.x - 
p0.x) * (p1.y - p0.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">若结果等于<span lang="EN-US">0</span>，则这三点共线</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">若结果大于<span lang="EN-US">0</span>，则<span lang="EN-US">p0p2</span>在<span lang="EN-US">p0p1</span>的逆时针方向</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">若结果小于<span lang="EN-US">0</span>，则<span lang="EN-US">p0p2</span>在<span lang="EN-US">p0p1</span>的顺时针方向<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">TLine 
lineFromSegment(TPoint p1, TPoint p2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">线段所在直线<span lang="EN-US">,</span>返回直线方程的三个系统<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TLine tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.a = p2.y 
- p1.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.b = p1.x 
- p2.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.c = p2.x 
* p1.y - p1.x * p2.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">TPoint 
LineInter(TLine l1, TLine l2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">求两直线得交点坐标</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint tmp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a1 = l1.a;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> b1 = l1.b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> c1 = l1.c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a2 = l2.a;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> b2 = l2.b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> c2 = l2.c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">注意这里<span lang="EN-US">b1 
= 0 </span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(b1) &lt; eps){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp.x = 
-c1 / a1;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp.y = 
(-c2 - a2 * tmp.x) / b2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span>{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp.x = 
(c1 * b2 - b1 * c2) / (b1 * a2 - b2 * a1);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp.y = 
(-c1 - a1 * tmp.x) / b1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">TPolygon 
Cut_polygon(TPoint p1, TPoint p2, TPolygon polygon)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPolygon 
new_polygon;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint 
interp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TLine l1, l2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> i, j;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> t1, t2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; new_polygon.n 
= 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt;= polygon.n - 1;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t1 = 
multi(p2, polygon.p[i], p1);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t2 = 
multi(p2, polygon.p[i + 1], p1);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(t1) &lt; eps || fabs(t2) &lt; eps){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(t1) &lt; eps) 
new_polygon.p[new_polygon.n++] = polygon.p[i];&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(t2) &lt; eps) 
new_polygon.p[new_polygon.n++] = polygon.p[i + 1];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">if</span>(t1 &lt; 0 
&amp;&amp; t2 &lt; 0){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
new_polygon.p[new_polygon.n++] = polygon.p[i];&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
new_polygon.p[new_polygon.n++] = polygon.p[i + 1];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">if</span>(t1 * 
t2&nbsp; &lt; 0){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l1 = 
lineFromSegment(p1, p2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l2 = 
lineFromSegment(polygon.p[i], polygon.p[i + 1]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; interp 
= LineInter(l1, l2); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(t1 &lt; 0) {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
new_polygon.p[new_polygon.n++] = polygon.p[i];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
new_polygon.p[new_polygon.n++] = interp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
new_polygon.p[new_polygon.n++] = interp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
new_polygon.p[new_polygon.n++] = polygon.p[i + 1];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; polygon.n = 
0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(new_polygon.n == 0)
<span style="color: blue">return</span> polygon;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; 
polygon.p[polygon.n++] = new_polygon.p[0];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 1;i &lt; new_polygon.n;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(!same(new_polygon.p[i], new_polygon.p[i - 
1])){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
polygon.p[polygon.n++] = new_polygon.p[i];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp; </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(polygon.n != 1 &amp;&amp; same(polygon.p[polygon.n - 
1], polygon.p[0])) polygon.n--;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; 
polygon.p[polygon.n] = polygon.p[0];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> polygon;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
polygonArea(TPolygon p)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">已知多边形各顶点的坐标，求其面积</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> i, n;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> area;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; n = p.n;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; area = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 1;i &lt;= n;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; area += 
(p.p[i - 1].x * p.p[i % n].y - p.p[i % n].x * p.p[i - 1].y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }&nbsp; </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> area / 2;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
ChangeClockwise(TPolygon &amp;polygon)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> i;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt;= (polygon.n - 1) / 2;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp = 
polygon.p[i];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
polygon.p[i] = polygon.p[polygon.n - 1 - i];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
polygon.p[polygon.n - 1 - i] = tmp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
main()</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> test, i, j;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> area;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPolygon 
polygon, new_polygon;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; scanf(&quot;%d&quot;, 
&amp;test);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(test--){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%d&quot;, &amp;polygon.n);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt;= polygon.n - 1;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%lf%lf&quot;, &amp;polygon.p[i].x, &amp;polygon.p[i].y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: green">/*</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">若是逆时针转化为顺时针<span lang="EN-US">*/</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(polygonArea(polygon) &gt; 0) 
ChangeClockwise(polygon);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
polygon.p[polygon.n] = polygon.p[0];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
new_polygon = polygon;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt;= polygon.n - 1;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
new_polygon = Cut_polygon(polygon.p[i], polygon.p[i + 1], new_polygon);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp; </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; area = 
polygonArea(new_polygon);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(area &lt; 0) printf(&quot;%.2lf\n&quot;, -area);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> printf(&quot;%.2lf\n&quot;, area);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">(27)</span><span style="font-size: 12.0pt; font-family: 新宋体">线段重叠<span lang="EN-US">+</span>投影<span lang="EN-US">(pku_1375)</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdio.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;math.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdlib.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#define</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
eps 1e-8</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#define</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> pi 
acos(-1)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> SEG</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> l, r;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}SEG;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TPoint</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> x, y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TPoint; </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TLine</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a, b, c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TLine;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> Circle</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> r;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}Circle;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
distance(<span style="color: blue">double</span> x1, <span style="color: blue">
double</span> y1, <span style="color: blue">double</span> x2,
<span style="color: blue">double</span> y2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * 
(y1 - y2));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">TPoint 
LineInter(TLine l1, TLine l2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">求两直线得交点坐标</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint tmp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a1 = l1.a;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> b1 = l1.b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> c1 = l1.c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a2 = l2.a;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> b2 = l2.b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> c2 = l2.c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">注意这里<span lang="EN-US">b1 
= 0 </span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(b1) &lt; eps){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp.x = 
-c1 / a1;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp.y = 
(-c2 - a2 * tmp.x) / b2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span>{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp.x = 
(c1 * b2 - b1 * c2) / (b1 * a2 - b2 * a1);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp.y = 
(-c1 - a1 * tmp.x) / b1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">TLine 
lineFromSegment(TPoint p1, TPoint p2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">线段所在直线<span lang="EN-US">,</span>返回直线方程的三个系统<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TLine tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.a = p2.y 
- p1.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.b = p1.x 
- p2.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.c = p2.x 
* p1.y - p1.x * p2.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
cmp(<span style="color: blue">const</span> <span style="color: blue">void</span> 
*a, <span style="color: blue">const</span> <span style="color: blue">void</span> 
*b)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; SEG *c = (SEG 
*)a;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; SEG *d = (SEG 
*)b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(c-&gt;l &lt; d-&gt;l) <span style="color: blue">
return</span> -1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
main()</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> n, i, j;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint b, 
inter;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> lbc, lcinter, a, bangle;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> start, end;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TLine l1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; Circle 
circle[505];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; SEG seg[505];
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(scanf(&quot;%d&quot;, &amp;n) &amp;&amp; n){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%lf%lf&quot;, &amp;b.x, &amp;b.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt; n;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%lf%lf%lf&quot;, &amp;circle[i].c.x, &amp;circle[i].c.y, &amp;circle[i].r);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(b.x - circle[i].c.x) &lt; eps) a = pi / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> a = atan((circle[i].c.y - b.y) / 
(circle[i].c.x - b.x));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(a &lt; 0) a += pi;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lbc = 
distance(b.x, b.y, circle[i].c.x, circle[i].c.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bangle 
= asin(circle[i].r / lbc);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l1 = 
lineFromSegment(b, circle[i].c);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
inter.x = -l1.c / l1.a;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
inter.y = 0.0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
lcinter = distance(inter.x, inter.y, b.x, b.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
seg[i].l = inter.x - lcinter * circle[i].r / lbc / sin(a - bangle);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
seg[i].r = inter.x + lcinter * circle[i].r / lbc / sin(pi - a - bangle);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; qsort(seg, 
n, <span style="color: blue">sizeof</span>(seg[0]), cmp);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; start = 
seg[0].l;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end = 
seg[0].r;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 1;i &lt; n;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(seg[i].l &gt; end){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;%.2lf %.2lf\n&quot;, start, end);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
start = seg[i].l;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 
end = seg[i].r;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(seg[i].r &gt; end) end = seg[i].r;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;%.2lf %.2lf\n\n&quot;, start, end);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">(28)</span><span style="font-size: 12.0pt; font-family: 新宋体">二分<span lang="EN-US">+</span>圆的参数方程<span lang="EN-US">(pku_2600)</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">/*</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">二分<span lang="EN-US">+</span>圆的参数方程<span lang="EN-US">(pku_2600)*/</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdio.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;math.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
const</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">double</span> eps = 1e-4;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
const</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">double</span> pi = acos(-1.0);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
struct</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
TPoint </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> x, y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}p[60], a[60];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
angle[60];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
multi(TPoint p1, TPoint p2, TPoint p0)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> (p1.x - p0.x) * (p2.y - p0.y) - (p2.x - 
p0.x) * (p1.y - p0.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">TPoint 
fine_a2(TPoint a1, TPoint m, <span style="color: blue">double</span> angle1)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint a2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> r, angle2, angle3;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; r = 
sqrt((a1.x - m.x) * (a1.x - m.x) + (a1.y - m.y) * (a1.y - m.y));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; angle2 = 
acos((a1.x - m.x) / r);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(a1.y &lt; m.y) {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(angle2 &lt;= pi / 2) angle2 = -angle2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(angle2 &gt; pi / 2) angle2 = 3 * pi / 2 - 
(angle2 - pi / 2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; angle3 = 
angle2 - angle1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; a2.x = m.x + 
r * cos(angle3);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; a2.y = m.y + 
r * sin(angle3);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(multi(m, a2, a1) &lt; 0)
<span style="color: blue">return</span> a2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; angle3 = 
angle2 + angle1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; a2.x = m.x + 
r * cos(angle3);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; a2.y = m.y + 
r * sin(angle3);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(multi(m, a2, a1) &lt; 0)
<span style="color: blue">return</span> a2;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
main()</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> n, i, j;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(scanf(&quot;%d&quot;, &amp;n) != EOF){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt; n;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%lf%lf&quot;, &amp;p[i].x, &amp;p[i].y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt; n;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%lf&quot;, &amp;angle[i]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
angle[i] = angle[i] * pi / 180;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a[0].x = 
0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a[0].y = 
0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(1){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 1;i &lt;= n;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
a[i] = fine_a2(a[i - 1], p[i - 1], angle[i - 1]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(a[n].x - a[0].x) &lt;= eps&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &amp;&amp; 
fabs(a[n].y - a[0].y) &lt;= eps) <span style="color: blue">break</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
a[0].x = (a[0].x + a[n].x) / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
a[0].y = (a[0].y + a[n].y) / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt; n;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;%.0lf %.0lf\n&quot;, a[i].x, a[i].y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">(29)Pick</span><span style="font-size: 12.0pt; font-family: 新宋体">公式</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//A 
= b / 2 + i -1&nbsp; </span>
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">其中<span lang="EN-US"> 
b </span>与<span lang="EN-US"> i </span>分別表示在边界上及內部的格子点之个數</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
//http://www.hwp.idv.tw/bbs1/htm/%A6V%B6q%B7L%BFn%A4%C0/%A6V%B6q%B7L%BFn%A4%C0.htm</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">// 
http://acm.pku.edu.cn/JudgeOnline/problem?id=2954</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdio.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdlib.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TPoint</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TPoint;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TLine</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> a, b, c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TLine;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
triangleArea(TPoint p1, TPoint p2, TPoint p3)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">已知三角形三个顶点的坐标，求三角形的面积<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> k = p1.x * p2.y + p2.x * p3.y + p3.x * p1.y</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - p2.x * 
p1.y - p3.x * p2.y - p1.x * p3.y;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(k &lt; 0) <span style="color: blue">return</span> 
-k;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> k;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">TLine 
lineFromSegment(TPoint p1, TPoint p2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">线段所在直线<span lang="EN-US">,</span>返回直线方程的三个系统<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TLine tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.a = p2.y 
- p1.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.b = p1.x 
- p2.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.c = p2.x 
* p1.y - p1.x * p2.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
swap(<span style="color: blue">int</span> &amp;a, <span style="color: blue">int</span> 
&amp;b)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> t;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; t = a;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; a = b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; b = t;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
Count(TPoint p1, TPoint p2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> i, sum = 0, y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TLine l1 =&nbsp; 
lineFromSegment(p1, p2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(l1.b == 0) <span style="color: blue">return</span> 
abs(p2.y - p1.y) + 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(p1.x &gt; p2.x) swap(p1.x, p2.x);
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">这里没有交换<span lang="EN-US">WA</span>两次<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = p1.x;i &lt;= p2.x;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; y = -l1.c 
- l1.a * i;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(y % l1.b == 0) sum++;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> sum;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
main()</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//freopen(&quot;in.in&quot;, &quot;r&quot;, stdin);</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//freopen(&quot;OUT.out&quot;, &quot;w&quot;, stdout);</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint p1, 
p2, p3;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(scanf(&quot;%d%d%d%d%d%d&quot;, &amp;p1.x, &amp;p1.y, 
&amp;p2.x, &amp;p2.y, &amp;p3.x, &amp;p3.y) != EOF){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(p1.x == 0 &amp;&amp; p1.y == 0 &amp;&amp; p2.x == 0 &amp;&amp; p2.y 
== 0 &amp;&amp; p3.x == 0 &amp;&amp; p3.y == 0) <span style="color: blue">break</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span>&nbsp; A = triangleArea(p1, p2, p3);<span style="color: green">//A</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">为面积的两倍<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> b = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> i;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b = 
Count(p1, p2) + Count(p1, p3) + Count(p3, p2) - 3;<span style="color: green">//3</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">个顶点多各多加了一次<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: green">//i = A / 2- b / 2 + 1;</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i = (A - 
b) / 2 + 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;%d\n&quot;, i);&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; } </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">(30)</span><span style="font-size: 12.0pt; font-family: 新宋体">根据经度纬度求球面距离</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">/*</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">假设地球是球体，<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">设地球上某点的经度为<span lang="EN-US">lambda,</span>纬度为<span lang="EN-US">phi</span>，<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">则这点的空间坐标是 </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
x=cos(phi)*cos(lambda) </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
y=cos(phi)*sin(lambda) </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
z=sin(phi) </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">设地球上两点的空间坐标分别为<span lang="EN-US">(x1,y1,z1),(x2,y2,z2)
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">直线距离即为<span lang="EN-US">R*sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1)+(z2-z1)*(z2-z1)),</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">则它们的夹角为<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">A = 
acos(x1 * x2 + y1 * y2 + z1 * z2)</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">，</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">则两地距离为<span lang="EN-US"> 
A * R</span>，其中<span lang="EN-US">R</span>为地球平均半径<span lang="EN-US">6371 </span>
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">*/</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">/*</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">这里坐标都要乘以半径<span lang="EN-US">R</span>，但由于是求角度，所以统一都没有乘<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">
注意这里还要判断坐标的正负和经度纬度的规定有关<span lang="EN-US"> </span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
pku_3407</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">*/</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdio.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;math.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
const</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">double</span> pi = acos(-1.0);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
struct</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
TPoint</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;
<span style="color: blue">double</span> x, y, z;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">};</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
main()</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> w1, wm1, j1, jm1, wd1, wd2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> w2, wm2, j2, jm2, jd1, jd2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint p1, 
p2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">char</span> chr1, chr2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(scanf(&quot;%lf%lf &quot;, &amp;w1, &amp;wm1) != EOF){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scanf(&quot;%c 
&quot;, &amp;chr1);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%lf %lf %c&quot;, &amp;j1, &amp;jm1, &amp;chr2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; wd1 = (w1 
+ wm1 / 60) * pi / 180;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; jd1 = (j1 
+ jm1 / 60) * pi / 180;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(chr1 == &#39;S&#39;) wd1 *= -1.0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(chr2 == &#39;W&#39;) jd1 *= -1.0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p1.x = 
cos(wd1) * cos(jd1);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p1.y = 
cos(wd1) * sin(jd1);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p1.z = 
sin(wd1);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%lf %lf %c %lf %lf %c&quot;, &amp;w2, &amp;wm2, &amp;chr1, &amp;j2, &amp;jm2, &amp;chr2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; wd2 = (w2 
+ wm2 / 60) * pi / 180;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; jd2 = (j2 
+ jm2 / 60) * pi / 180;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(chr1 == &#39;S&#39;) wd2 *= -1.0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(chr2 == &#39;W&#39;) jd2 *= -1.0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p2.x = 
cos(wd2) * cos(jd2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p2.y = 
cos(wd2) * sin(jd2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p2.z = 
sin(wd2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a = acos(p1.x * p2.x + p1.y * p2.y + 
p1.z * p2.z);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;%.3lf\n&quot;, a * 6370.0);&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">(31)</span><span style="font-size: 12.0pt; font-family: 新宋体">两圆切线的交点</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
/*zju_1199_</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">切线交点<span lang="EN-US">.cpp*/</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdio.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;math.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#define</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
eps 1e-6</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#define</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> pi 
acos(-1.0)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
struct</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
TPoint </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> x, y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">};</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
struct</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
TLine</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a, b, c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">};</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
struct</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
TCircle</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> r;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">};</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
distanc(TPoint p1, TPoint p2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> sqrt((p1.x - p2.x) * (p1.x - p2.x) + 
(p1.y - p2.y) * (p1.y - p2.y));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
swap(TCircle &amp;c1, TCircle &amp;c2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TCircle c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; c = c1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; c1 = c2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; c2 = c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
IsOnSegment(TPoint p, TPoint p1, TPoint p2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> d1 = distanc(p1, p);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> d2 = distanc(p, p2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> d3 = distanc(p1, p2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(d1 + d2 - d3) &lt; eps)
<span style="color: blue">return</span> 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
main()</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//freopen(&quot;in.in&quot;, &quot;r&quot;, stdin);</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//freopen(&quot;out.out&quot;, &quot;w&quot;, stdout);</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> test;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TLine l1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint p1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TCircle c1, 
c2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> k, a;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; scanf(&quot;%d&quot;, 
&amp;test);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(test--){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%lf%lf%lf&quot;, &amp;c1.c.x, &amp;c1.c.y, &amp;c1.r);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%lf%lf%lf&quot;, &amp;c2.c.x, &amp;c2.c.y, &amp;c2.r);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(c1.r - c2.r) &lt; eps){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
&nbsp;&nbsp;&nbsp;printf(&quot;Impossible.\n&quot;);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">continue</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> d = distanc(c1.c, c2.c);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: green">//if(fabs(c2.r- c1.r) - d &gt; 0) </span></span>
<span style="font-size: 12.0pt; font-family: 新宋体; color: green">这样就<span lang="EN-US">wa
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(c2.r- c1.r) - d &gt; -eps){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;Impossible.\n&quot;);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">continue</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(c2.r &lt; c1.r) swap(c1, c2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> x = c1.r *d / (c2.r - c1.r);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(c2.c.x - c1.c.x) &lt; eps){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a = 
pi / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; k = 
(c2.c.y - c1.c.y) / (c2.c.x - c1.c.x);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a = 
atan(k);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p1.x = 
c1.c.x + x * cos(a);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p1.y = 
c1.c.y + x * sin(a);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(!IsOnSegment(p1, c1.c, c2.c)){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;%.2lf %.2lf\n&quot;, p1.x, p1.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a += 
pi;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p1.x 
= c1.c.x + x * cos(a);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p1.y 
= c1.c.y + x * sin(a);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(!IsOnSegment(p1, c1.c, c2.c)){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;%.2lf %.2lf\n&quot;, p1.x, p1.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">(31)</span><span style="font-size: 12.0pt; font-family: 新宋体">两圆切线的交点<span lang="EN-US">(32)</span>线段与三角形的交<span lang="EN-US">(usaco_3.4)</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
/*usaco3_4*/</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdio.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;math.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
&lt;stdlib.h&gt;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#define</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
Maxn 205</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#define</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
eps 1e-6</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TPoint</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> x, y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TPoint;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> SEG</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint p1, 
p2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> p1num, p2num;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}SEG;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> ANGLE</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> l, r;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}ANGLE;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span> TLine</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a, b, c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}TLine;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
struct</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> ANS</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> left, right;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">};</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
max(<span style="color: blue">double</span> x, <span style="color: blue">double</span> 
y)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">比较两个数的大小，返回大的数</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(x &gt; y) <span style="color: blue">return</span> 
x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> y;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
min(<span style="color: blue">double</span> x, <span style="color: blue">double</span> 
y)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">比较两个数的大小，返回小的数</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(x &lt; y) <span style="color: blue">return</span> 
x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> y;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
IsSame(TPoint p1, TPoint p2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(p1.x - p2.x) &gt; eps)
<span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(p1.y - p2.y) &gt; eps)
<span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
distance(TPoint p1, TPoint p2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">计算平面上两个点之间的距离</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;
<span style="color: blue">return</span> sqrt((p1.x - p2.x) * (p1.x - p2.x) + 
(p1.y - p2.y) * (p1.y - p2.y));&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
multi(TPoint p1, TPoint p2, TPoint p0)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">求矢量<span lang="EN-US">[p0, 
p1], [p0, p2]</span>的叉积</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//p0</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">是顶点<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> (p1.x - p0.x) * (p2.y - p0.y) - (p2.x - 
p0.x) * (p1.y - p0.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">若结果等于<span lang="EN-US">0</span>，则这三点共线</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">若结果大于<span lang="EN-US">0</span>，则<span lang="EN-US">p0p2</span>在<span lang="EN-US">p0p1</span>的逆时针方向</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">若结果小于<span lang="EN-US">0</span>，则<span lang="EN-US">p0p2</span>在<span lang="EN-US">p0p1</span>的顺时针方向<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
parallel(TPoint s1, TPoint e1, TPoint s2, TPoint e2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs((s1.y - e1.y) * (s2.x - e2.x) </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; - (s2.y - 
e2.y) * (s1.x - e1.x)) &lt; eps) <span style="color: blue">return</span> 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
cmp(<span style="color: blue">const</span> <span style="color: blue">void</span> 
*a, <span style="color: blue">const</span> <span style="color: blue">void</span> 
*b)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; ANGLE *c = 
(ANGLE *)a;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; ANGLE *d = 
(ANGLE *)b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(c-&gt;l &lt; d-&gt;l) <span style="color: blue">
return</span> -1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
cmp1(<span style="color: blue">const</span> <span style="color: blue">void</span> 
*a, <span style="color: blue">const</span> <span style="color: blue">void</span> 
*b)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">struct</span> ANS *c = (<span style="color: blue">struct</span> 
ANS *)a;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">struct</span> ANS *d = (<span style="color: blue">struct</span> 
ANS *)b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(c-&gt;right &lt; d-&gt;right)
<span style="color: blue">return</span> -1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">if</span>(c-&gt;right 
&gt; d-&gt;right) <span style="color: blue">return</span> 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(c-&gt;left &lt; d-&gt;left) <span style="color: blue">
return</span> -1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
isIntersected(TPoint s1, TPoint e1, TPoint s2, TPoint e2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">判断线段是否相交</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//1.</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">快速排斥试验判断以两条线段为对角线的两个矩形是否相交<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//2.</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">跨立试验</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; (max(s1.x, 
e1.x) &gt;= min(s2.x, e2.x)) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; (max(s2.x, 
e2.x) &gt;= min(s1.x, e1.x)) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; (max(s1.y, 
e1.y) &gt;= min(s2.y, e2.y)) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; (max(s2.y, 
e2.y) &gt;= min(s1.y, e1.y)) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; (multi(s2, 
e1, s1) * multi(e1, e2, s1) &gt;= 0) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; (multi(s1, 
e2, s2) * multi(e2, e1, s2) &gt;= 0)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; )&nbsp;
<span style="color: blue">return</span> 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">TPoint 
LineInter(TLine l1, TLine l2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">求两直线得交点坐标</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint tmp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a1 = l1.a;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> b1 = l1.b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> c1 = l1.c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a2 = l2.a;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> b2 = l2.b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> c2 = l2.c;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">注意这里<span lang="EN-US">b1 
= 0 </span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(b1) &lt; eps){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp.x = 
-c1 / a1;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp.y = 
(-c2 - a2 * tmp.x) / b2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span>{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp.x = 
(c1 * b2 - b1 * c2) / (b1 * a2 - b2 * a1);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tmp.y = 
(-c1 - a1 * tmp.x) / b1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">TLine 
lineFromSegment(TPoint p1, TPoint p2)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">线段所在直线<span lang="EN-US">,</span>返回直线方程的三个系统<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TLine tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.a = p2.y 
- p1.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.b = p1.x 
- p2.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmp.c = p2.x 
* p1.y - p1.x * p2.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp; &nbsp;&nbsp;<span style="color: blue">return</span> 
tmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
AreaOfTriangle(TPoint p1, TPoint p2, TPoint p3)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> fabs((p1.x - p3.x) * (p2.y - p3.y)
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - 
(p1.y - p3.y) * (p2.x - p3.x)) / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
isPointInTriangle(TPoint p, TPoint p1, TPoint p2, TPoint p3)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> area1 = 0, area2 = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; area1 = 
AreaOfTriangle(p1, p2, p)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; + 
AreaOfTriangle(p1, p3, p)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; + 
AreaOfTriangle(p2, p3, p);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; area2 = 
AreaOfTriangle(p1, p2, p3);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(area1 - area2) &lt; eps)
<span style="color: blue">return</span> 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> 
0;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
get_angle(TPoint p1, TPoint p2, TPoint point)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">这里可以用余弦定理做<span lang="EN-US">
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint p3, 
p4;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> tmpa, tmpb, tmpc, tmpd;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; p3.x = p1.x - 
point.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; p3.y = p1.y - 
point.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; p4.x = p2.x - 
point.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; p4.y = p2.y - 
point.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmpa = p3.x * 
p4.x + p3.y * p4.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmpb = 
distance(p1, point);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmpc = 
distance(p2, point); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; tmpd = tmpa / 
tmpb / tmpc;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(tmpd &gt; 1) tmpd = 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(tmpd &lt; -1) tmpd = -1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> acos(tmpd);&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
find_point_2(TPoint point, SEG seg1, SEG seg2, SEG &amp;segtmp)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: green">/*</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">找出线段<span lang="EN-US">seg2</span>在<span lang="EN-US">point</span>，和线段<span lang="EN-US">seg1</span>组成的三角形的两个交点<span lang="EN-US">*/</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TLine l1, l2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint p[3];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> n = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(parallel(seg2.p1, seg2.p2, point, seg1.p1)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; || 
parallel(seg2.p1, seg2.p2, point, seg1.p2)){ <span style="color: blue">return</span> 
0;}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(isPointInTriangle(seg2.p1, point, seg1.p1, 
seg1.p2) </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &amp;&amp; 
isPointInTriangle(seg2.p2, point, seg1.p1, seg1.p2)){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
&nbsp;segtmp.p1 = seg2.p1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
&nbsp;segtmp.p2 = seg2.p2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<span style="color: blue">return</span> 
1; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(isIntersected(point, seg1.p1, seg2.p1, 
seg2.p2)){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l1 = 
lineFromSegment(point, seg1.p1);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l2 = 
lineFromSegment(seg2.p1, seg2.p2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p[n] = 
LineInter(l1, l2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n++;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(isIntersected(point, seg1.p2, seg2.p1, 
seg2.p2)){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l1 = 
lineFromSegment(point, seg1.p2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l2 = 
lineFromSegment(seg2.p1, seg2.p2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p[n] = 
LineInter(l1, l2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n++;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(isIntersected(seg1.p1, seg1.p2, seg2.p1, 
seg2.p2)){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l1 = 
lineFromSegment(seg1.p1, seg1.p2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l2 = 
lineFromSegment(seg2.p1, seg2.p2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p[n] = 
LineInter(l1, l2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n++;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(n == 3){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(!IsSame(p[0], p[1])){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
segtmp.p1 = p[0];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
segtmp.p2 = p[1];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
segtmp.p1 = p[0];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
segtmp.p2 = p[2];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">if</span>(n == 
0) <span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">if</span>(n == 
2){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(!IsSame(p[0], p[1])){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
segtmp.p1 = p[0];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
segtmp.p2 = p[1];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(isPointInTriangle(seg2.p1, point, seg1.p1, 
seg1.p2)){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
segtmp.p1 = p[0];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
segtmp.p2 = seg2.p1; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(IsSame(segtmp.p2, segtmp.p1))
<span style="color: blue">return</span> 0;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 1;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(isPointInTriangle(seg2.p2, point, seg1.p1, 
seg1.p2)){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
segtmp.p1 = p[0];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
segtmp.p2 = seg2.p2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(IsSame(segtmp.p2, segtmp.p1))
<span style="color: blue">return</span> 0;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } </span>
</p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">if</span>(n == 
1){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; segtmp.p1 
= p[0];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(isPointInTriangle(seg2.p1, point, seg1.p1, 
seg1.p2) </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &amp;&amp; 
!IsSame(seg2.p1, segtmp.p1)){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
segtmp.p2 = seg2.p1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">if</span>(isPointInTriangle(seg2.p2, 
point, seg1.p1, seg1.p2) </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &amp;&amp; 
!IsSame(seg2.p2, segtmp.p1)){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
segtmp.p2 = seg2.p2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
main()</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; 
freopen(&quot;fence4.in&quot;, &quot;r&quot;, stdin);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; 
freopen(&quot;fence4.out&quot;, &quot;w&quot;, stdout);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> i, j, pn, segn, anglen, ansn;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> flag1, flag2, flag3, tag;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> max_angle, angle1, angle2, end;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; ANGLE 
angle[Maxn];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint 
p[Maxn];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; ANS 
ans[Maxn];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; TPoint point, 
mid;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; SEG 
seg[Maxn], segtmp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; scanf(&quot;%d&quot;, 
&amp;pn);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; segn = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; 
scanf(&quot;%lf%lf&quot;, &amp;point.x, &amp;point.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; 
scanf(&quot;%lf%lf&quot;, &amp;p[0].x, &amp;p[0].y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 1;i &lt; pn;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
scanf(&quot;%lf%lf&quot;, &amp;p[i].x, &amp;p[i].y); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
seg[segn].p1 = p[i - 1];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
seg[segn].p2 = p[i];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
seg[segn].p1num = i - 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
seg[segn++].p2num = i;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; seg[segn].p1 
= p[pn - 1];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; seg[segn].p2 
= p[0];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; 
seg[segn].p1num = pn - 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; 
seg[segn++].p2num = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; ansn = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt;= segn - 1;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; max_angle 
= get_angle(seg[i].p1, seg[i].p2, point);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(max_angle) &lt; eps)
<span style="color: blue">continue</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; anglen = 
0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(j = 0;j &lt;= segn - 1;j++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(i == j) <span style="color: blue">continue</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(find_point_2(point, seg[i], seg[j], 
segtmp)){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(IsSame(segtmp.p1, segtmp.p2))<span style="color: blue">continue</span>;
</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
angle1 = get_angle(segtmp.p1, seg[i].p2, point);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
angle2 = get_angle(segtmp.p2, seg[i].p2, point);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(angle1 &lt; angle2){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
angle[anglen].l = angle1;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
angle[anglen++].r = angle2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
angle[anglen].l = angle2;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
angle[anglen++].r = angle1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
qsort(angle, anglen, <span style="color: blue">sizeof</span>(angle[0]), cmp);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tag = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(anglen == 0 || angle[0].l &gt; eps) tag = 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end = 
angle[0].r;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(j = 1;j &lt; anglen;j++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(angle[j].l - end &gt; eps){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
tag = 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">break</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">if</span>(angle[j].r 
- end &gt; eps) end = angle[j].r;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(max_angle- end &gt; eps) tag = 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(tag == 1){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(seg[i].p1num &lt; seg[i].p2num) {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
ans[ansn].left = seg[i].p1num;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
ans[ansn++].right = seg[i].p2num;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
ans[ansn].left = seg[i].p2num;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
ans[ansn++].right = seg[i].p1num;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(ansn == 0){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;NOFENCE\n&quot;);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; qsort(ans, 
ansn, <span style="color: blue">sizeof</span>(ans[0]), cmp1);&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; 
printf(&quot;%d\n&quot;, ansn);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0;i &lt; ansn;i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
printf(&quot;%.0lf %.0lf %.0lf %.0lf\n&quot;, p[ans[i].left].x, </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; 
p[ans[i].left].y, p[ans[i].right].x, p[ans[i].right].y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<b><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></b></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">/*</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;* 
Computational_Geometry</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;* 
summarized by ZouYu</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;* 
at 2006.9.24</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;*/</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: maroon">&lt;stdio.h&gt;</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: maroon">&lt;stdlib.h&gt;</span>&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
#include</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: maroon">&lt;math.h&gt;</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
//****************************************</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">常量定义<span lang="EN-US">*****************************************//</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
const</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">int</span> MAX = 10000;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">注意数据范围！！！</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
const</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">double</span> EPS = 1e-10;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
const</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">double</span> DOUBLE_INF = 1e300;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
const</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">double</span> PI = 3.1415926535897932384626433;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
//***************************************</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">数据类型定义<span lang="EN-US">***************************************//</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span>{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">点</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> x, y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}Point, Vector;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span>{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">多边形<span lang="EN-US"> 
(n</span>个顶点<span lang="EN-US">)</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; Point 
vertex[MAX+1];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> num;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}PSet, Polygon;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span>{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">三角</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; Point 
vertex[4];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}Triangle;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span>{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">圆</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> r;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; Point center;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}Circle;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
typedef</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
<span style="color: blue">struct</span>{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">直线</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> A, B, C;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}Line;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
//****************************************</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">数值运算<span lang="EN-US">*****************************************//</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">判断某数是否等于，亦用于判断两数是否相等</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
isZero(<span style="color: blue">double</span> a){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> a&lt;EPS &amp;&amp; a&gt;-EPS;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">某数为<span lang="EN-US">-0.0</span>时返回<span lang="EN-US">.0</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
CheckZero(<span style="color: blue">double</span> zero){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(zero&lt;EPS &amp;&amp; zero&gt;-EPS)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0.0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> 
zero;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">最大值</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
Max(<span style="color: blue">double</span> a, <span style="color: blue">double</span> 
b){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> a&gt;b?a:b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">最小值</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
Min(<span style="color: blue">double</span> a, <span style="color: blue">double</span> 
b){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> a&lt;b?a:b;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
Equ(<span style="color: blue">double</span> a, <span style="color: blue">double</span> 
b){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> isZero(a-b);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
//****************************************</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">点的算法<span lang="EN-US">*****************************************//</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">判断两点是否相同</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
SamePoint(Point a, Point b){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> isZero(a.x-b.x) &amp;&amp; isZero(a.y-b.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">平面上两点之间距离</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
Distance(Point a, Point b){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 
sqrt((a.x-b.x)*(a.x-b.x)+((a.y-b.y)*(a.y-b.y)));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
//****************************************</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">向量算法<span lang="EN-US">*****************************************//</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">计算向量的点积<span lang="EN-US">v1 
* v2</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
DotProduct(Vector v1, Vector v2){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> v1.x*v2.x+v1.y*v2.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">计算向量的叉积<span lang="EN-US">v1 
x v2</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
CrossProduct(Vector v1, Vector v2){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> v1.x*v2.y-v1.y*v2.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">矢量点乘</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
DotProduct(Point p_begin, Point p_end, Point q_begin, Point q_end){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; Vector v1, 
v2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; v1.x = 
p_end.x-p_begin.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; v1.y = 
p_end.y-p_begin.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; v2.x = 
q_end.x-q_begin.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; v2.y = 
q_end.y-q_begin.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> DotProduct(v1, v2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">矢量叉乘</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
CrossProduct(Point p_begin, Point p_end, Point q_begin, Point q_end){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; Vector v1, 
v2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; v1.x = 
p_end.x-p_begin.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; v1.y = 
p_end.y-p_begin.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; v2.x = 
q_end.x-q_begin.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; v2.y = 
q_end.y-q_begin.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> CrossProduct(v1, v2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
//****************************************</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">点与线<span lang="EN-US">*******************************************//</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">点<span lang="EN-US">p</span>到线段<span lang="EN-US">ab</span>所在直线的距离</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
DistanceToLine(Point p, Point a, Point b){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Vector 
v1,v2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; v1.x = 
a.x-p.x; v1.y = a.y-p.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; v2.x = 
b.x-a.x; v2.y = b.y-a.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> fabs(CrossProduct(v1,v2)/Distance(a,b));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">判断点是否在线段上<span lang="EN-US">(</span>包括端点<span lang="EN-US">)</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
isPointOnSegment(Point p, Point p1, Point p2){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; Vector v1,v2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; v1.x = 
p.x-p1.x; v1.y = p.y-p1.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; v2.x = 
p2.x-p.x; v2.y = p2.y-p.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(isZero(CrossProduct(v1, v2))==<span style="color: blue">false</span>)
<span style="color: blue">return</span> <span style="color: blue">false</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(((p.x&gt;p1.x)&amp;&amp;(p.x&gt;p2.x))||((p.x&lt;p1.x)&amp;&amp;(p.x&lt;p2.x)))
<span style="color: blue">return</span> <span style="color: blue">false</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(((p.y&gt;p1.y)&amp;&amp;(p.y&gt;p2.y))||((p.y&lt;p1.y)&amp;&amp;(p.y&lt;p2.y)))
<span style="color: blue">return</span> <span style="color: blue">false</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> <span style="color: blue">true</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">点到直线的垂足</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
GetFoot(Point p, Point a, Point b, Point &amp;foot){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> t;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(SamePoint(a, b)) foot=a;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span>{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t = 
(-(a.x-p.x)*(b.x-a.x)-(a.y-p.y)*(b.y-a.y))/</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
((b.x-a.x)*(b.x-a.x)+(b.y-a.y)*(b.y-a.y));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; foot.x = 
a.x+t*(b.x-a.x);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; foot.y = 
a.y+t*(b.y-a.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">点到线段的距离</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
DistanceToSegment(Point p, Point a, Point b){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; Point foot;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> tresa, tresb;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; GetFoot(p, a, 
b, foot);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(isPointOnSegment(foot, a, b))
<span style="color: blue">return</span> Distance(p, foot);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span>{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tresa = 
Distance(p, a);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tresb = 
Distance(p, b);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(tresa&gt;tresb) <span style="color: blue">
return</span> tresb;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> 
tresa;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">点关于直线的对称点<span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp; 
o:</span>原始点<span lang="EN-US">&nbsp;&nbsp; t:</span>对称点</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
symmetricalPointofLine(Point o, Line l, Point* t){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> d;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; d = 
l.A*l.A+l.B*l.B;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; t-&gt;x = 
(l.B*l.B*o.x - l.A*l.A*o.x - 2*l.A*l.B*o.y - 2*l.A*l.C)/d;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; t-&gt;y = 
(l.A*l.A*o.y - l.B*l.B*o.y - 2*l.A*l.B*o.x - 2*l.B*l.C)/d;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
//****************************************</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">线的算法<span lang="EN-US">*****************************************//</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">计算两直线<span lang="EN-US">ab,cd</span>的交点<span lang="EN-US">,</span>结果存于<span lang="EN-US">p</span>中</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
LinesIntersect(Point *p, Point a, Point b, Point c, Point d){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> mul, t;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; Vector v1, 
v2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; v1.x = 
b.x-a.x; v1.y = b.y-a.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; v2.x = 
d.x-c.x; v2.y = d.y-c.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; mul = 
CrossProduct(v1, v2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(Equ(mul, 0)) <span style="color: blue">
return</span> <span style="color: blue">false</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span>{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t = 
((c.x-a.x)*v2.y+(a.y-c.y)*v2.x)/mul;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p-&gt;x = 
a.x+v1.x*t;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p-&gt;y = 
a.y+v1.y*t;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> <span style="color: blue">true</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">线段所在直线<span lang="EN-US">(</span>保证<span lang="EN-US">A&gt;=0)</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
LineFromSegment(Line *l, Point a, Point b)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> sign = 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; l-&gt;A = 
a.y-b.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(l-&gt;A &lt; 0){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sign = -1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l-&gt;A *= 
sign;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; l-&gt;B = 
sign*(b.x-a.x);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; l-&gt;C = 
sign*(a.x*b.y-a.y*b.x);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">判断线段是否相交<span lang="EN-US">(</span>端点接触不算相交<span lang="EN-US">;</span>跨立实验中<span lang="EN-US">&#39;&gt;&#39;</span>换成<span lang="EN-US">&#39;&gt;=&#39;</span>时，端点接触也算<span lang="EN-US">)</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
isSegmentIntersect(Point s1, Point e1, Point s2, Point e2){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> (Max(s1.x, e1.x)&gt;=Min(s2.x, e2.x)) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
(Max(s2.x, e2.x)&gt;=Min(s1.x, e1.x)) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
(Max(s1.y, e1.y)&gt;=Min(s2.y, e2.y)) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
(Max(s2.y, e2.y)&gt;=Min(s1.y, e1.y)) &amp;&amp;&nbsp; <span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">快速排斥试验<span lang="EN-US">(</span>点稀疏时会加快速度<span lang="EN-US">)</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
(CrossProduct(s1, s2, s1, e1)*CrossProduct(s1, e1, s1, e2)&gt;0) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
(CrossProduct(s2, s1, s2, e2)*CrossProduct(s2, e2, s2, e1)&gt;0);<span style="color: green">//</span></span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">跨立实验</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">判断线段是否与直线相交<span lang="EN-US">:</span>线段<span lang="EN-US">(s, 
e)</span>直线<span lang="EN-US">(lf, lt)</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
isIntercectWithLine(Point s, Point e, Point lf, Point lt){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> CrossProduct(lf, s, lf, 
lt)*CrossProduct(lf, lt, lf, e)&gt;0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">线段到线段的距离</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
SegmentToSegment(Point a, Point b, Point c, Point d){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> res;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(isSegmentIntersect(a, b, c, d))
<span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span>{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; res = 
DOUBLE_INF;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; res = 
Min(res, DistanceToSegment(a, c, d));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; res = 
Min(res, DistanceToSegment(b, c, d));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; res = 
Min(res, DistanceToSegment(c, a, b));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; res = 
Min(res, DistanceToSegment(d, a, b));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> res;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//
</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">
根据直线解析方程返回直线的斜率<span lang="EN-US">k,</span>水平线返回<span lang="EN-US">,</span>竖直线返回<span lang="EN-US">DOUBLE_INF
</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
slope(Line l) </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(l.A) &lt; EPS) <span style="color: blue">
return</span> 0; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(l.B) &lt; EPS) <span style="color: blue">
return</span> DOUBLE_INF; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> -(l.A/l.B); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//
</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">返回直线的倾斜角<span lang="EN-US">alpha 
( 0 - pi) </span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
alpha(Line l) </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">{ </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(l.A)&lt; EPS)<span style="color: blue">return</span> 
0; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(l.B)&lt; EPS)<span style="color: blue">return</span> 
PI/2; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> k=slope(l); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(k&gt;0) <span style="color: blue">return</span> 
atan(k); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> 
PI+atan(k); </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">判断线段和圆相交</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
SegmentIntersectCircle(Point a, Point b, Circle c){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> l1, l2, l3;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> cosa, h;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; l1 = 
Distance(a, c.center);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; l2 = 
Distance(b, c.center);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; l3 = 
Distance(a, b);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(l1&lt;c.r &amp;&amp; l2&lt;c.r) <span style="color: blue">
return</span> <span style="color: blue">false</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>((l1-c.r)*(l2-c.r) &lt; EPS)
<span style="color: blue">return</span> <span style="color: blue">true</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; cosa = 
(l1*l1+l3*l3-l2*l2)/2/l1/l3;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; h = 
l1*sqrt(1-cosa*cosa);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(h-c.r&gt;EPS) <span style="color: blue">return</span>
<span style="color: blue">false</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(l1&lt;l2) cosa = l1*l1+l3*l3-l2*l2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> cosa = l3*l3+l2*l2-l1*l1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(cosa&lt;-EPS) <span style="color: blue">return</span>
<span style="color: blue">false</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span>
<span style="color: blue">true</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
//****************************************</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">三角形<span lang="EN-US">*******************************************//</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">海伦公式求三角形面积<span lang="EN-US">:</span>已知三角形三边长度</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
HeroArea(<span style="color: blue">double</span> a, <span style="color: blue">
double</span> b, <span style="color: blue">double</span> c){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> s = (a+b+c)/2.0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> sqrt(s*(s-a)*(s-b)*(s-c));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">已知三角形三边长度以及外接圆半径</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
RArea(<span style="color: blue">double</span> a, <span style="color: blue">
double</span> b, <span style="color: blue">double</span> c,
<span style="color: blue">double</span> R){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> a*b*c/(4.0*R);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">已知三角形三顶点坐标求面积</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
TriangleArea(Triangle t){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> area = 0.0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; area += 
t.vertex[0].x*t.vertex[1].y - t.vertex[0].y*t.vertex[1].x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; area += 
t.vertex[1].x*t.vertex[2].y - t.vertex[1].y*t.vertex[2].x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; area += 
t.vertex[2].x*t.vertex[0].y - t.vertex[2].y*t.vertex[0].x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0.5*fabs(area);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">三角形的外接圆</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
CircumCircle(Circle *circle, Triangle t){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a = Distance(t.vertex[0], t.vertex[1]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> b = Distance(t.vertex[1], t.vertex[2]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> c = Distance(t.vertex[2], t.vertex[0]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; circle-&gt;r = 
a*b*c/(4.0*TriangleArea(t));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> ax = t.vertex[0].x, ay = t.vertex[0].y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> bx = t.vertex[1].x, by = t.vertex[1].y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> cx = t.vertex[2].x, cy = t.vertex[2].y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> c1 = (ax*ax+ay*ay-bx*bx-by*by)/2.0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> c2 = (ax*ax+ay*ay-cx*cx-cy*cy)/2.0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; 
circle-&gt;center.x = (c1*(ay-cy)-c2*(ay-by))/((ax-bx)*(ay-cy)-(ax-cx)*(ay-by));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; 
circle-&gt;center.y = (c1*(ax-cx)-c2*(ax-bx))/((ay-by)*(ax-cx)-(ay-cy)*(ax-bx));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">三角形的内切圆</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
InCircleOfTriangle(Circle *circle, Triangle t){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> a = Distance(t.vertex[0], t.vertex[1]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> b = Distance(t.vertex[1], t.vertex[2]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> c = Distance(t.vertex[2], t.vertex[0]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; circle-&gt;r = 
(2.0*TriangleArea(t))/(a+b+c);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> angleA = acos((b*b+c*c-a*a)/(2*b*c));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> angleB = acos((a*a+c*c-b*b)/(2*a*c));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> angleC = acos((b*b+a*a-c*c)/(2*b*a));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> p1 = sin(angleA/2), p2 = sin(angleB/2), 
p3 = sin(angleC/2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> ax = t.vertex[0].x, ay = t.vertex[0].y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> bx = t.vertex[1].x, by = t.vertex[1].y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> cx = t.vertex[2].x, cy = t.vertex[2].y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> f1 = 
0.5*((circle-&gt;r/p2)*(circle-&gt;r/p2)-(circle-&gt;r/p1)*(circle-&gt;r/p1)+ax*ax-bx*bx+ay*ay-by*by);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> f2 = 
0.5*((circle-&gt;r/p3)*(circle-&gt;r/p3)-(circle-&gt;r/p1)*(circle-&gt;r/p1)+ax*ax-cx*cx+ay*ay-cy*cy);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; 
circle-&gt;center.x = (f1*(ay-cy)-f2*(ay-by))/((ax-bx)*(ay-cy)-(ax-cx)*(ay-by));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; 
circle-&gt;center.y = (f1*(ax-cx)-f2*(ax-bx))/((ay-by)*(ax-cx)-(ay-cy)*(ax-bx));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">用面积判断点是否在三角形内<span lang="EN-US">(</span>边界也算在内<span lang="EN-US">)</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
isPointInTriangle(Point p, Triangle t){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> area = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; Point temp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> i;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0; i &lt; 3; i++)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; temp.x = 
t.vertex[i].x; temp.y = t.vertex[i].y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
t.vertex[i].x = p.x; t.vertex[i].y = p.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; area += 
TriangleArea(t);&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
t.vertex[i].x = temp.x; t.vertex[i].y = temp.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> isZero(area-TriangleArea(t));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">用线段拐向判断点是否在三角形内<span lang="EN-US">(</span>不包括边界<span lang="EN-US">,</span>亦可以修改成包括边界<span lang="EN-US">)</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
isPointIntriangle2(Point p, Triangle t){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> k1 = CrossProduct(p, t.vertex[0], p, 
t.vertex[1]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> k2 = CrossProduct(p, t.vertex[1], p, 
t.vertex[2]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> k3 = CrossProduct(p, t.vertex[2], p, 
t.vertex[0]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> k1*k2&gt;0 &amp;&amp; k2*k3&gt;0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">三角形垂心</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
VerticalPointOfTriangle(Point* vertical, Point A, Point B, Point C){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> xac = A.x-C.x, xcb = C.x-B.x, xba = 
B.x-A.x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> yac = A.y-C.y, ycb = C.y-B.y, yba = 
B.y-A.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; vertical-&gt;x = 
CheckZero((A.y*A.x*xcb+B.y*B.x*xac+C.y*C.x*xba-yac*ycb*yba)/(A.y*xcb+B.y*xac+C.y*xba));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; vertical-&gt;y = 
CheckZero((A.x*A.y*ycb+B.x*B.y*yac+C.x*C.y*yba-xac*xcb*xba)/(A.x*ycb+B.x*yac+C.x*yba));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
//*****************************************</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">矩形<span lang="EN-US">********************************************//</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">判断矩形<span lang="EN-US">X*Y</span>能否放入矩形<span lang="EN-US">A*B</span>中<span lang="EN-US">(X,A</span>为各自矩形较长的一边<span lang="EN-US">)</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
isRectangleIn(<span style="color: blue">double</span> A,
<span style="color: blue">double</span> B, <span style="color: blue">double</span> 
X, <span style="color: blue">double</span> Y){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> la, lb, xl1, xl2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span> (A &gt;= X &amp;&amp; B &gt;= Y) <span style="color: blue">
return</span> 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span> (Y &gt;= B) <span style="color: blue">return</span> 
0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; xl1 = sqrt(A 
* A + B * B);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; xl2 = sqrt(X 
* X + Y * Y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span> (xl2 &gt;= xl1) <span style="color: blue">
return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; la = (A - 
sqrt(xl2 * xl2 - B * B)) / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; lb = (B - 
sqrt(xl2 * xl2 - A * A)) / 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span> (la * la + lb * lb &gt;= Y * Y)
<span style="color: blue">return</span> 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">判断矩形<span lang="EN-US">X*Y</span>能否放入矩形<span lang="EN-US">A*B</span>中<span lang="EN-US">(X,A</span>为各自矩形较长的一边<span lang="EN-US">)</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp; 
TryPut ( <span style="color: blue">double</span> a , <span style="color: blue">
double</span> b , <span style="color: blue">double</span> x ,
<span style="color: blue">double</span> y ){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> l = sqrt ( x * x + y * y ) , alfa1 , 
alfa2 , l2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; alfa1 = 
acos ( b / l );</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; alfa2 = 
atan ( y / x ) + alfa1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span> ( alfa2 &gt; PI / 2 ) <span style="color: blue">
return</span> <span style="color: blue">false</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l2 = x * 
sin ( alfa2 ) + y * cos ( alfa2 );</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> l2 &lt; a + 1e-10;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp; 
isRectangleIn2 ( <span style="color: blue">double</span> A ,
<span style="color: blue">double</span> B , <span style="color: blue">double</span> 
X , <span style="color: blue">double</span> Y ){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span> ( A &gt;= X &amp;&amp; B &gt;= Y )
<span style="color: blue">return</span> <span style="color: blue">true</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span> ( A &lt; X &amp;&amp; B &lt; Y ) <span style="color: blue">
return</span> <span style="color: blue">false</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span>&nbsp; TryPut ( A , B , X , Y );</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
//****************************************</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">多边形<span lang="EN-US">*******************************************//</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">简单多边形面积<span lang="EN-US">,n</span>为顶点个数</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
PolygonArea(Polygon poly){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> area = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> n = poly.num;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; 
poly.vertex[n].x = poly.vertex[0].x, poly.vertex[n].y = poly.vertex[0].y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(<span style="color: blue">int</span> i = 1; 
i &lt;= n; i++)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; area += 
poly.vertex[i-1].x*poly.vertex[i].y-poly.vertex[i].x*poly.vertex[i-1].y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> fabs(area)/2.0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">判断点<span lang="EN-US">a</span>是否在简单多边形<span lang="EN-US">p</span>内<span lang="EN-US">(</span>不考虑落在边界上的情况的话，删掉第一个<span lang="EN-US">for</span>循环<span lang="EN-US">)</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
PointInPolygon(Point a, Polygon p){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(<span style="color: blue">int</span> 
onBoard = 0; onBoard &lt; p.num; onBoard++)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(isPointOnSegment(a,p.vertex[onBoard],p.vertex[(onBoard+1)%p.num]))</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> i, flag, times;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; Point k;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; k = 
p.vertex[0];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span> (i = 1; i &lt; p.num; i++) {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span> (p.vertex[i].x &lt; k.x) k.x = p.vertex[i].x;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span> (p.vertex[i].y &gt; k.y) k.y = p.vertex[i].y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; k.y++;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">do</span>{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; k.x--;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flag = 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span> (i=0; i&lt;p.num; i++)&nbsp;
<span style="color: blue">if</span> (isPointOnSegment(p.vertex[i], a, k))</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; flag = 
0; <span style="color: blue">break</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }<span style="color: blue">while</span> 
(!flag);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; times = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0; i &lt; p.num; i++)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(isSegmentIntersect(a, k, p.vertex[i], 
p.vertex[(i+1)%p.num]))</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
times++;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> times%2 == 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">用面积判断点是否在简单多边形内<span lang="EN-US">(</span>边界也算在内<span lang="EN-US">)</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
isPointInPolygon(Point p, Polygon poly){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> area = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> n = poly.num;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; 
poly.vertex[n].x = poly.vertex[0].x, poly.vertex[n].y = poly.vertex[0].y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; Triangle t;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; t.vertex[2].x 
= p.x; t.vertex[2].y = p.y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(<span style="color: blue">int</span> i = 1; 
i &lt;= n; i++) {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
t.vertex[0].x = poly.vertex[i-1].x; t.vertex[0].y = poly.vertex[i-1].y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
t.vertex[1].x = poly.vertex[i].x; t.vertex[1].y = poly.vertex[i].y;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; area += 
TriangleArea(t);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> isZero(area-TriangleArea(t));</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">用线段拐向判断点是否在简单多边形内<span lang="EN-US">(</span>不包括边界<span lang="EN-US">,</span>亦可以修改成包括边界<span lang="EN-US">)</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
isPointIntriangle2(Point p, Polygon poly){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> n = poly.num;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> k = CrossProduct(p, poly.vertex[n-1], p, 
poly.vertex[0]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> kk;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(<span style="color: blue">int</span> i = 1; 
i &lt; n; i++)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; {</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; kk = 
CrossProduct(p, poly.vertex[i-1], p, poly.vertex[i]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(kk*k&lt;=0)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> <span style="color: blue">false</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> <span style="color: blue">true</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">求多边形<span lang="EN-US">p</span>的重心<span lang="EN-US">(BaryCenter),
</span>结果存入<span lang="EN-US">c(</span>坐标<span lang="EN-US">),s(</span>面积<span lang="EN-US">)</span>中<span lang="EN-US">, 
2004.12.1</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
Calc(<span style="color: blue">int</span> n, Point vertex[], Point center[],
<span style="color: blue">double</span> area[]){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; center[n].x = 
(vertex[0].x+vertex[1].x+vertex[2].x)/3.0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; center[n].y = 
(vertex[0].y+vertex[1].y+vertex[2].y)/3.0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; area[n] = 
(vertex[2].y-vertex[1].y)*(vertex[1].x-vertex[0].x)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; - 
(vertex[2].x-vertex[1].x)*(vertex[1].y-vertex[0].y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; area[n] /= 2;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">bool</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
ADD(<span style="color: blue">int</span> a, <span style="color: blue">int</span> 
b, Point center[], <span style="color: blue">double</span> area[]){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(fabs(area[a]+area[b]) &lt; EPS)
<span style="color: blue">return</span> <span style="color: blue">false</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; center[a].x 
+= (center[b].x-center[a].x)*area[b]/(area[a]+area[b]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; center[a].y 
+= (center[b].y-center[a].y)*area[b]/(area[a]+area[b]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; area[a] += 
area[b];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> <span style="color: blue">true</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
BaryCenter(Point *c, <span style="color: blue">double</span> *s,
<span style="color: blue">const</span> Polygon *p){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> i;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; Point 
vertex[3], center[3];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> area[3];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span> (i=0; i&lt;3; i++) vertex[i] = p-&gt;vertex[i];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; Calc(0, 
vertex, center, area);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; i = 3;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(i &lt; p-&gt;num){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vertex[1] 
= vertex[2];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vertex[2] 
= p-&gt;vertex[i];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i++;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Calc(1, 
vertex, center, area);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span>(!ADD(0, 1, center, area)){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
vertex[1] = vertex[2];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
vertex[2] = p-&gt;vertex[i];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i++;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
Calc(2, vertex, center, area);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span> (!ADD(0, 2, center, area))</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
ADD(1, 2, center, area);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; *c = 
center[0];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; *s = area[0];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
//******************************************</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">凸包<span lang="EN-US">*******************************************//</span></span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
//Graham</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">扫描法在点集<span lang="EN-US">s</span>中寻找凸包<span lang="EN-US">,</span>结果存入<span lang="EN-US">p</span>中</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
//O(N^2) SelectSort</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
GrahamScan(Polygon *p, PSet s){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> i, j, k = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> mul;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; Point t;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 1; i &lt; s.num; i++)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span> (s.vertex[i].y&lt;s.vertex[k].y ||</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
(Equ(s.vertex[i].y,s.vertex[k].y) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
s.vertex[i].x&lt;s.vertex[k].x))</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; k = i;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; t = 
s.vertex[0];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; s.vertex[0] = 
s.vertex[k];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; s.vertex[k] = 
t;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 1; i &lt; s.num-1; i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; k = i;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(j = i+1; j &lt; s.num; j++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mul = 
CrossProduct(s.vertex[0], s.vertex[j], s.vertex[0], s.vertex[k]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span> (mul&gt;0 || (Equ(mul,0) &amp;&amp; 
Distance(s.vertex[0],s.vertex[j])</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt; Distance(s.vertex[0],s.vertex[k])))</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; k = 
j;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t = 
s.vertex[i];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
s.vertex[i] = s.vertex[k];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
s.vertex[k] = t;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; *p = s;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0; (i+1)%p-&gt;num != 0;){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mul = 
CrossProduct(p-&gt;vertex[i], p-&gt;vertex[(i+1)%p-&gt;num],</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p-&gt;vertex[(i+1)%p-&gt;num], p-&gt;vertex[(i+2)%p-&gt;num]);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span> (mul &gt;= 0) i = (i+1)%p-&gt;num;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span>{</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(j = (i+1)%p-&gt;num+1; j &lt; p-&gt;num; j++)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
p-&gt;vertex[j-1] = p-&gt;vertex[j];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
p-&gt;num--;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i = 
(i-1+p-&gt;num)%p-&gt;num;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">
//Graham</span><span style="font-size: 12.0pt; font-family: 新宋体; color: green">扫描法在点集<span lang="EN-US">s</span>中寻找凸包结果存入<span lang="EN-US">p</span>中</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: green">//O(NlogN) 
QuickSort and Stack, 2004.11.30</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">Point workarr[MAX];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
stk[MAX], top;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">
double</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
Multi(Point p1, Point p2, Point p0){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> (p1.x-p0.x)*(p2.y-p0.y) - 
(p2.x-p0.x)*(p1.y-p0.y);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">int</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
Comp(<span style="color: blue">const</span> <span style="color: blue">void</span> 
*e1, <span style="color: blue">const</span> <span style="color: blue">void</span> 
*e2){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; Point p1 = 
*((Point *)e1), p2 = *((Point *)e2);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; Point p0 = 
workarr[0];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">double</span> mul = Multi(p1, p2, p0);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span> (mul &gt; 0 || (Equ(mul, 0) &amp;&amp; Distance(p0, 
p1)&lt; Distance(p0, p2)))</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span> -1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">else</span> <span style="color: blue">return</span> 1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体; color: blue">void</span><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体"> 
GrahamScan2(Polygon *p, <span style="color: blue">const</span> PSet *s){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">int</span> i, k;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; Point t;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span>(s-&gt;num &lt; 3){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p-&gt;num = 
s-&gt;num;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0; i &lt; s-&gt;num; i++)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p-&gt;vertex[i] 
= s-&gt;vertex[i];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">return</span>;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 0; i &lt; s-&gt;num; i++) workarr[i] = s-&gt;vertex[i];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; k = 0;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 1; i &lt; s-&gt;num; i++)</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">if</span> (workarr[i].y &lt; workarr[k].y ||</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
(Equ(workarr[i].y, workarr[k].y) &amp;&amp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
workarr[i].x&lt;workarr[k].x))</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; k = i;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; t = 
workarr[0];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; workarr[0] = 
workarr[k];</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; workarr[k] = 
t;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; 
qsort(workarr+1, s-&gt;num-1, <span style="color: blue">sizeof</span>(Point), 
Comp);</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 1; i &lt;= 3; i++) stk[i] = i-1;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; top = 3;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 3; i &lt; s-&gt;num; i++){</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<span style="color: blue">while</span> (Multi(workarr[i], workarr[stk[top]], 
workarr[stk[top-1]]) &gt; 0) top--;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; top++;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; stk[top] = 
i;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; }</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp; p-&gt;num = top;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;&nbsp;&nbsp;
<span style="color: blue">for</span>(i = 1; i &lt;= top; i++) p-&gt;vertex[i-1] = 
workarr[stk[i]];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">}</span></p>
<div style="mso-element: para-border-div; border-left: medium none; border-right: medium none; border-top: 2.25pt double windowtext; border-bottom: 2.25pt double windowtext; padding-left: 0cm; padding-right: 0cm; padding-top: 1.0pt; padding-bottom: 1.0pt">
	<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none; border: medium none; padding: 0cm">
	<b><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></b></div>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<b><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></b></p>
<p class="MsoFooter" style="layout-grid-mode: both; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></p>
<p class="MsoNormal" align="left" style="text-align: left; text-autospace: none">
<b><span lang="EN-US" style="font-size: 12.0pt; font-family: 新宋体">&nbsp;</span></b></p>
<p class="MsoNormal"><span lang="EN-US" style="font-size: 12.0pt">&nbsp;</span></p>

</body>

</html>
